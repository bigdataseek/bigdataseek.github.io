---
title: 7ì°¨ì‹œ 6:JavaScript 4
layout: single
classes: wide
categories:
  - JS
toc: true # ì´ í¬ìŠ¤íŠ¸ì—ì„œ ëª©ì°¨ë¥¼ í™œì„±í™”
toc_sticky: true # ëª©ì°¨ë¥¼ ê³ ì •í• ì§€ ì—¬ë¶€ (ì„ íƒ ì‚¬í•­)
---

## 6. ì¢…í•© ì‹¤ì „ ì˜ˆì œ

### 6.1 ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ

```js
async function loadDashboard(userId) {
  try {
    console.log('ëŒ€ì‹œë³´ë“œ ë¡œë”© ì‹œì‘...');
    
    // 1. ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    const user = await getUser(userId);
    console.log('âœ“ ì‚¬ìš©ì ì •ë³´ ë¡œë“œ');
    
    // 2. ì‚¬ìš©ìì˜ ê²Œì‹œë¬¼ê³¼ í†µê³„ë¥¼ ë™ì‹œì— ê°€ì ¸ì˜¤ê¸° (ë³‘ë ¬)
    const [posts, stats] = await Promise.all([
      getPosts(userId),
      getStats(userId)
    ]);
    console.log('âœ“ ê²Œì‹œë¬¼ & í†µê³„ ë¡œë“œ');
    
    // 3. ìµœê·¼ ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ê°€ì ¸ì˜¤ê¸°
    if (posts.length > 0) {
      const recentPost = posts[0];
      const comments = await getComments(recentPost.id);
      console.log('âœ“ ëŒ“ê¸€ ë¡œë“œ');
      
      return {
        user,
        posts,
        stats,
        recentComments: comments
      };
    }
    
    return { user, posts, stats };
    
  } catch (error) {
    console.error('ëŒ€ì‹œë³´ë“œ ë¡œë”© ì‹¤íŒ¨:', error);
    throw error;
  }
}

// ì‚¬ìš©
loadDashboard(1)
  .then(dashboard => {
    console.log('ëŒ€ì‹œë³´ë“œ ë°ì´í„°:', dashboard);
  })
  .catch(error => {
    console.log('í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  });
```



### 6.2 ê²€ìƒ‰ ê¸°ëŠ¥ (ë””ë°”ìš´ì‹±)

```js
// ë””ë°”ìš´ìŠ¤: ì—°ì†ëœ í˜¸ì¶œì„ í•˜ë‚˜ë¡œ ë¬¶ê¸°
function debounce(func, delay) {
  let timeoutId;
  return function(...args) {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => func(...args), delay);
  };
}

// ê²€ìƒ‰ í•¨ìˆ˜
async function searchUsers(keyword) {
  if (!keyword) return [];
  
  try {
    console.log(`"${keyword}" ê²€ìƒ‰ ì¤‘...`);
    const response = await fetch(`https://api.example.com/users?search=${keyword}`);
    const users = await response.json();
    return users;
  } catch (error) {
    console.error('ê²€ìƒ‰ ì‹¤íŒ¨:', error);
    return [];
  }
}

// ë””ë°”ìš´ìŠ¤ ì ìš© (300ms í›„ì— ê²€ìƒ‰)
const debouncedSearch = debounce(async (keyword) => {
  const results = await searchUsers(keyword);
  console.log('ê²€ìƒ‰ ê²°ê³¼:', results);
}, 300);

// ì‚¬ìš©ìê°€ íƒ€ì´í•‘í•  ë•Œë§ˆë‹¤ í˜¸ì¶œ
// í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” íƒ€ì´í•‘ì„ ë©ˆì¶˜ í›„ 300ms í›„ì—ë§Œ ê²€ìƒ‰ë¨
debouncedSearch('ì² ìˆ˜'); // ê²€ìƒ‰ ì•ˆë¨
debouncedSearch('ì² ìˆ˜ã…‡'); // ê²€ìƒ‰ ì•ˆë¨
debouncedSearch('ì² ìˆ˜ì´'); // 300ms í›„ ê²€ìƒ‰!
```



### 6.3 ì´ë¯¸ì§€ ì—…ë¡œë“œ ì§„í–‰ë¥ 

```js
async function uploadImage(file) {
  const formData = new FormData();
  formData.append('image', file);
  
  try {
    console.log('ì—…ë¡œë“œ ì‹œì‘...');
    
    const response = await fetch('https://api.example.com/upload', {
      method: 'POST',
      body: formData
    });
    
    if (!response.ok) {
      throw new Error('ì—…ë¡œë“œ ì‹¤íŒ¨');
    }
    
    const result = await response.json();
    console.log('ì—…ë¡œë“œ ì™„ë£Œ!', result);
    return result;
    
  } catch (error) {
    console.error('ì—…ë¡œë“œ ì—ëŸ¬:', error);
    throw error;
  }
}

// ì‚¬ìš© (ê°€ìƒì˜ íŒŒì¼)
const fakeFile = new Blob(['ì´ë¯¸ì§€ ë°ì´í„°'], { type: 'image/png' });
uploadImage(fakeFile);
```



### 6.4 ë°ì´í„° ìºì‹±

```js
class DataCache {
  constructor() {
    this.cache = new Map();
    this.expirationTime = 5 * 60 * 1000; // 5ë¶„
  }
  
  // ìºì‹œì—ì„œ ê°€ì ¸ì˜¤ê¸°
  get(key) {
    const item = this.cache.get(key);
    
    if (!item) return null;
    
    // ë§Œë£Œ í™•ì¸
    if (Date.now() - item.timestamp > this.expirationTime) {
      this.cache.delete(key);
      return null;
    }
    
    console.log('ìºì‹œì—ì„œ ê°€ì ¸ì˜´:', key);
    return item.data;
  }
  
  // ìºì‹œì— ì €ì¥
  set(key, data) {
    this.cache.set(key, {
      data,
      timestamp: Date.now()
    });
  }
  
  // ìºì‹œ ì§€ìš°ê¸°
  clear() {
    this.cache.clear();
  }
}

// ì‚¬ìš©
const cache = new DataCache();

async function getUserWithCache(id) {
  // 1. ìºì‹œ í™•ì¸
  const cached = cache.get(`user-${id}`);
  if (cached) {
    return cached;
  }
  
  // 2. ì—†ìœ¼ë©´ API í˜¸ì¶œ
  console.log('APIì—ì„œ ê°€ì ¸ì˜´:', id);
  const user = await getUser(id);
  
  // 3. ìºì‹œì— ì €ì¥
  cache.set(`user-${id}`, user);
  
  return user;
}

// í…ŒìŠ¤íŠ¸
await getUserWithCache(1); // API í˜¸ì¶œ
await getUserWithCache(1); // ìºì‹œì—ì„œ ê°€ì ¸ì˜´ (ë¹ ë¦„!)
await getUserWithCache(1); // ìºì‹œì—ì„œ ê°€ì ¸ì˜´ (ë¹ ë¦„!)
```



### 6.5 ë¬´í•œ ìŠ¤í¬ë¡¤ ë°ì´í„° ë¡œë”©

```js
class InfiniteLoader {
  constructor(fetchFunction) {
    this.fetchFunction = fetchFunction;
    this.page = 1;
    this.isLoading = false;
    this.hasMore = true;
    this.allData = [];
  }
  
  async loadMore() {
    if (this.isLoading || !this.hasMore) {
      return;
    }
    
    this.isLoading = true;
    console.log(`í˜ì´ì§€ ${this.page} ë¡œë”© ì¤‘...`);
    
    try {
      const data = await this.fetchFunction(this.page);
      
      if (data.length === 0) {
        this.hasMore = false;
        console.log('ë” ì´ìƒ ë°ì´í„° ì—†ìŒ');
      } else {
        this.allData.push(...data);
        this.page++;
        console.log(`ë¡œë“œ ì™„ë£Œ! ì´ ${this.allData.length}ê°œ`);
      }
      
    } catch (error) {
      console.error('ë¡œë”© ì‹¤íŒ¨:', error);
    } finally {
      this.isLoading = false;
    }
  }
  
  getData() {
    return this.allData;
  }
}

// í˜ì´ì§€ë³„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° í•¨ìˆ˜
async function fetchPosts(page) {
  const response = await fetch(`https://jsonplaceholder.typicode.com/posts?_page=${page}&_limit=10`);
  return await response.json();
}

// ì‚¬ìš©
const loader = new InfiniteLoader(fetchPosts);

// ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ì—¬ ë°ì´í„° ê³„ì† ë¡œë“œ
await loader.loadMore(); // í˜ì´ì§€ 1
await loader.loadMore(); // í˜ì´ì§€ 2
await loader.loadMore(); // í˜ì´ì§€ 3

console.log('ëª¨ë“  ê²Œì‹œë¬¼:', loader.getData());
```





## 7. ë¹„ë™ê¸° ì²˜ë¦¬ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ğŸ’¡

### 7.1 í•­ìƒ ì—ëŸ¬ ì²˜ë¦¬í•˜ê¸°
```js
// âŒ ë‚˜ìœ ì˜ˆ
async function badExample() {
  const data = await fetch('/api/data');
  // ì—ëŸ¬ê°€ ë‚˜ë©´ ì•±ì´ ë©ˆì¶¤!
}

// âœ… ì¢‹ì€ ì˜ˆ
async function goodExample() {
  try {
    const data = await fetch('/api/data');
    return data;
  } catch (error) {
    console.error('ì—ëŸ¬ ë°œìƒ:', error);
    return null; // ê¸°ë³¸ê°’ ë°˜í™˜
  }
}
```



### 7.2 Promise.allë¡œ ë³‘ë ¬ ì²˜ë¦¬
```js
// âŒ ëŠë¦¼: ìˆœì°¨ ì‹¤í–‰ (3ì´ˆ)
async function slow() {
  const a = await fetch('/api/a'); // 1ì´ˆ
  const b = await fetch('/api/b'); // 1ì´ˆ
  const c = await fetch('/api/c'); // 1ì´ˆ
}

// âœ… ë¹ ë¦„: ë³‘ë ¬ ì‹¤í–‰ (1ì´ˆ)
async function fast() {
  const [a, b, c] = await Promise.all([
    fetch('/api/a'),
    fetch('/api/b'),
    fetch('/api/c')
  ]);
}
```



### 7.3 ë¶ˆí•„ìš”í•œ await í”¼í•˜ê¸°
```js
// âŒ ë¶ˆí•„ìš”í•œ await
async function unnecessary() {
  return await getData(); // await ë¶ˆí•„ìš”
}

// âœ… ê°„ë‹¨í•˜ê²Œ
async function better() {
  return getData(); // ì´ë¯¸ Promise ë°˜í™˜
}

// âœ… í•˜ì§€ë§Œ ì—ëŸ¬ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë©´ await ì‚¬ìš©
async function withErrorHandling() {
  try {
    return await getData();
  } catch (error) {
    console.error(error);
    return null;
  }
}
```



### 7.4 íƒ€ì„ì•„ì›ƒ ì„¤ì •
```js
// íƒ€ì„ì•„ì›ƒ ìœ í‹¸ë¦¬í‹°
function timeout(ms) {
  return new Promise((_, reject) => {
    setTimeout(() => reject(new Error('íƒ€ì„ì•„ì›ƒ!')), ms);
  });
}

// ì‚¬ìš©: 5ì´ˆ ì•ˆì— ì‘ë‹µ ì—†ìœ¼ë©´ ì—ëŸ¬
async function fetchWithTimeout(url) {
  try {
    const response = await Promise.race([
      fetch(url),
      timeout(5000) // 5ì´ˆ ì œí•œ
    ]);
    return await response.json();
  } catch (error) {
    console.error('ìš”ì²­ ì‹¤íŒ¨ ë˜ëŠ” íƒ€ì„ì•„ì›ƒ:', error);
    return null;
  }
}
```



### 7.5 ë¡œë”© ìƒíƒœ ê´€ë¦¬ íŒ¨í„´
```js
async function fetchData() {
  const state = {
    loading: true,
    data: null,
    error: null
  };
  
  try {
    state.data = await fetch('/api/data').then(r => r.json());
  } catch (error) {
    state.error = error.message;
  } finally {
    state.loading = false;
  }
  
  return state;
}

// ì‚¬ìš©
const result = await fetchData();
if (result.loading) {
  console.log('ë¡œë”© ì¤‘...');
} else if (result.error) {
  console.log('ì—ëŸ¬:', result.error);
} else {
  console.log('ë°ì´í„°:', result.data);
}
```



## 8. ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ì™€ í•´ê²°ë²• âš ï¸

### 8.1 ì‹¤ìˆ˜ 1: await ì—†ì´ Promise ì‚¬ìš©
```js
// âŒ ì˜ëª»ëœ ì½”ë“œ
async function wrong() {
  const data = fetch('/api/data'); // Promise ê°ì²´ê°€ ë°˜í™˜ë¨!
  console.log(data); // Promise { <pending> }
  console.log(data.name); // undefined
}

// âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
async function correct() {
  const response = await fetch('/api/data');
  const data = await response.json();
  console.log(data); // ì‹¤ì œ ë°ì´í„°
  console.log(data.name); // ì œëŒ€ë¡œ ëœ ê°’
}
```



### 8.2 ì‹¤ìˆ˜ 2: ë°˜ë³µë¬¸ì—ì„œ ì˜ëª»ëœ ë¹„ë™ê¸° ì²˜ë¦¬
```js
// âŒ ì˜ëª»ëœ ì½”ë“œ: forEachì—ì„œ await
async function wrong(ids) {
  ids.forEach(async (id) => {
    const user = await getUser(id);
    console.log(user);
  });
  // forEachëŠ” awaitë¥¼ ê¸°ë‹¤ë ¤ì£¼ì§€ ì•ŠìŒ!
}

// âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ 1: for...of ì‚¬ìš© (ìˆœì°¨)
async function correct1(ids) {
  for (const id of ids) {
    const user = await getUser(id);
    console.log(user);
  }
}

// âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ 2: Promise.all ì‚¬ìš© (ë³‘ë ¬)
async function correct2(ids) {
  const users = await Promise.all(
    ids.map(id => getUser(id))
  );
  users.forEach(user => console.log(user));
}
```



### 8.3 ì‹¤ìˆ˜ 3: async í•¨ìˆ˜ ë°–ì—ì„œ await ì‚¬ìš©
```js
// âŒ ì—ëŸ¬: awaitëŠ” async í•¨ìˆ˜ ì•ˆì—ì„œë§Œ!
function wrong() {
  const data = await fetch('/api/data'); // SyntaxError!
}

// âœ… í•´ê²°ë²• 1: async í•¨ìˆ˜ë¡œ ë§Œë“¤ê¸°
async function correct1() {
  const data = await fetch('/api/data');
}

// âœ… í•´ê²°ë²• 2: ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ (ìµœìƒìœ„ ë ˆë²¨)
(async () => {
  const data = await fetch('/api/data');
  console.log(data);
})();

// âœ… í•´ê²°ë²• 3: .then() ì‚¬ìš©
function correct3() {
  fetch('/api/data')
    .then(response => response.json())
    .then(data => console.log(data));
}
```



### 8.4 ì‹¤ìˆ˜ 4: ì—ëŸ¬ë¥¼ ë¬´ì‹œí•¨
```js
// âŒ ìœ„í—˜í•œ ì½”ë“œ
async function dangerous() {
  const data = await fetch('/api/data');
  // ì—ëŸ¬ê°€ ë‚˜ë©´ ì•±ì´ ì£½ìŒ!
  return data;
}

// âœ… ì•ˆì „í•œ ì½”ë“œ
async function safe() {
  try {
    const data = await fetch('/api/data');
    return data;
  } catch (error) {
    console.error('ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
    return null; // ë˜ëŠ” ê¸°ë³¸ê°’
  }
}
```



### 8.5 ì‹¤ìˆ˜ 5: Promiseë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ
```js
// âŒ ì˜ëª»ëœ ì½”ë“œ
async function wrong() {
  const promise1 = getUser(1);
  const promise2 = getUser(2);
  
  // Promise ê°ì²´ ìì²´ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•¨
  console.log(promise1.name); // undefined!
}

// âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ
async function correct() {
  const [user1, user2] = await Promise.all([
    getUser(1),
    getUser(2)
  ]);
  
  console.log(user1.name); // ì •ìƒ ì‘ë™
}
```



## 9. ì‹¤ìŠµ ë¬¸ì œ ğŸ¯

### 9.1 ê¸°ë³¸ Promise
```js
// TODO: 2ì´ˆ í›„ì— "ì•ˆë…•í•˜ì„¸ìš”!"ë¥¼ ë°˜í™˜í•˜ëŠ” Promiseë¥¼ ë§Œë“œì„¸ìš”
function greet() {
  // ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
}

// í…ŒìŠ¤íŠ¸
greet().then(message => console.log(message)); // 2ì´ˆ í›„: "ì•ˆë…•í•˜ì„¸ìš”!"
```

*   ì •ë‹µë³´ê¸°
    ```js
    function greet() {
        return new Promise((resolve) => {
            setTimeout(() => {
            resolve("ì•ˆë…•í•˜ì„¸ìš”!");
            }, 2000);
        });
    }
    ```




### 9.2 ì‚¬ìš©ì ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
```js
// TODO: ë‹¤ìŒ í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”
// 1. ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤
// 2. ì‚¬ìš©ìì˜ ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤
// 3. { user, posts }ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤
// 4. ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í¬í•¨í•˜ì„¸ìš”

async function getUserData(userId) {
  // ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
}

// í…ŒìŠ¤íŠ¸
getUserData(1).then(data => console.log(data));
```

*   ì •ë‹µë³´ê¸°
    ```js
    async function getUserData(userId) {
        try {
            const user = await getUser(userId);
            const posts = await getPosts(userId);
            return { user, posts };
        } catch (error) {
            console.error('ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
            return null;
        }
    }
    ```



### 9.3 ë³‘ë ¬ ì²˜ë¦¬
```js
// TODO: ì„¸ ëª…ì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ë™ì‹œì— ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”
// ID: 1, 2, 3

async function getThreeUsers() {
  // ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
}

// í…ŒìŠ¤íŠ¸
getThreeUsers().then(users => console.log(users));
```

*   ì •ë‹µë³´ê¸°
    ```js
    async function getThreeUsers() {
        try {
                const [user1, user2, user3] = await Promise.all([
                getUser(1),
                getUser(2),
                getUser(3)
                ]);
            return [user1, user2, user3];
        } catch (error) {
            console.error('ì‚¬ìš©ì ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
            return [];
        }
    }
    ```

### 9.4 fetch API
```js
// TODO: JSONPlaceholder APIë¥¼ ì‚¬ìš©í•˜ì—¬
// ëª¨ë“  ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”
// URL: https://jsonplaceholder.typicode.com/posts

async function getAllPosts() {
  // ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
}

// í…ŒìŠ¤íŠ¸
getAllPosts().then(posts => console.log(`ê²Œì‹œë¬¼ ${posts.length}ê°œ`));
```

*   ì •ë‹µë³´ê¸°
    ```js
    async function getAllPosts() {
        try {
            const response = await fetch('https://jsonplaceholder.typicode.com/posts');
            
            if (!response.ok) {
            throw new Error(`HTTP ì—ëŸ¬: ${response.status}`);
            }
            
            const posts = await response.json();
            return posts;
        } catch (error) {
            console.error('ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
            return [];
        }
    }
    ```


### 9.5 ì¬ì‹œë„ ë¡œì§ (ë„ì „!)
```js
// TODO: ì‹¤íŒ¨í•˜ë©´ 3ë²ˆê¹Œì§€ ì¬ì‹œë„í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì„¸ìš”
// ê° ì¬ì‹œë„ ì‚¬ì´ì— 1ì´ˆ ëŒ€ê¸°

async function fetchWithRetry(url, maxRetries = 3) {
  // ì—¬ê¸°ì— ì½”ë“œ ì‘ì„±
}

// í…ŒìŠ¤íŠ¸
fetchWithRetry('https://jsonplaceholder.typicode.com/posts/1')
  .then(data => console.log('ì„±ê³µ!', data))
  .catch(error => console.log('ì‹¤íŒ¨:', error));
```

*   ì •ë‹µë³´ê¸°
    ```js
    async function fetchWithRetry(url, maxRetries = 3) {
        for (let i = 0; i < maxRetries; i++) {
            try {
            const response = await fetch(url);
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
            }
            
            return await response.json();
            
            } catch (error) {
            console.log(`ì‹œë„ ${i + 1}/${maxRetries} ì‹¤íŒ¨`);
            
            // ë§ˆì§€ë§‰ ì‹œë„ì—ì„œë„ ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬ ë˜ì§€ê¸°
            if (i === maxRetries - 1) {
                throw new Error('ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼');
            }
            
            // 1ì´ˆ ëŒ€ê¸°
            await new Promise(resolve => setTimeout(resolve, 1000));
            }
        }
    }
    ```

## 10. Reactì—ì„œ ì‚¬ìš©í•˜ê¸° (ë¯¸ë¦¬ë³´ê¸°)

ë¹„ë™ê¸° ì²˜ë¦¬ê°€ Reactì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ê°„ë‹¨íˆ ì‚´í´ë´…ì‹œë‹¤.

```js
import { useState, useEffect } from 'react';

function UserList() {
  // ìƒíƒœ ê´€ë¦¬
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  useEffect(() => {
    async function fetchUsers() {
      try {
        const response = await fetch('https://jsonplaceholder.typicode.com/users');
        const data = await response.json();
        setUsers(data);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    }
    
    fetchUsers();
  }, []); // ë¹ˆ ë°°ì—´: ë§ˆìš´íŠ¸ ì‹œ 1ë²ˆë§Œ ì‹¤í–‰
  
  // ë¡œë”© ì¤‘
  if (loading) return <div>ë¡œë”© ì¤‘...</div>;
  
  // ì—ëŸ¬ ë°œìƒ
  if (error) return <div>ì—ëŸ¬: {error}</div>;
  
  // ë°ì´í„° í‘œì‹œ
  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- `useState`: ë°ì´í„°, ë¡œë”©, ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬
- `useEffect`: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ API í˜¸ì¶œ
- `async/await`: ë¹„ë™ê¸° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
- ë¡œë”©/ì—ëŸ¬/ì„±ê³µ ìƒíƒœì— ë”°ë¥¸ UI ë Œë”ë§



## 11. ë§ˆë¬´ë¦¬ ë° í•µì‹¬ ì •ë¦¬ âœ¨

### 11.1 ê¼­ ê¸°ì–µí•´ì•¼ í•  ê²ƒë“¤

1. **ë¹„ë™ê¸°ë€?** ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì¼ì„ í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ

2. **Promise** = ë¯¸ë˜ì— ì™„ë£Œë  ì‘ì—…ì˜ ì•½ì†
   - `.then()`: ì„±ê³µ ì‹œ
   - `.catch()`: ì‹¤íŒ¨ ì‹œ
   - `.finally()`: í•­ìƒ

3. **async/await** = Promiseë¥¼ ë” ì‰½ê²Œ ì“°ëŠ” ë¬¸ë²• (ìµœì‹ , ê¶Œì¥!)
   - `async function`ìœ¼ë¡œ ì„ ì–¸
   - `await`ë¡œ Promise ê¸°ë‹¤ë¦¬ê¸°
   - `try-catch`ë¡œ ì—ëŸ¬ ì²˜ë¦¬

4. **fetch** = ì„œë²„ì™€ í†µì‹ í•˜ëŠ” API
   - GET: ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
   - POST: ë°ì´í„° ë³´ë‚´ê¸°
   - PUT/PATCH: ë°ì´í„° ìˆ˜ì •
   - DELETE: ë°ì´í„° ì‚­ì œ

5. **Promise.all** = ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ë™ì‹œì— ì‹¤í–‰ (ë¹ ë¦„!)



### 11.2 í•™ìŠµ ë¡œë“œë§µ

```
1. ì½œë°± í•¨ìˆ˜ ì´í•´ (setTimeout)
   â†“
2. Promise ê¸°ì´ˆ (.then, .catch)
   â†“
3. async/await ë§ˆìŠ¤í„° â­â­â­
   â†“
4. fetch API ì‹¤ì „ ì‚¬ìš©
   â†“
5. ì—ëŸ¬ ì²˜ë¦¬ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤
   â†“
6. Reactì—ì„œ í™œìš© (useEffect + async/await)
```



### 11.3 ë‹¤ìŒ ë‹¨ê³„

ì´ì œ JavaScriptì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ì´í•´í–ˆë‹¤ë©´:
- âœ… Reactì˜ `useEffect`ì—ì„œ API í˜¸ì¶œ ê°€ëŠ¥
- âœ… ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì„œë²„ì—ì„œ ê°€ì ¸ì™€ í™”ë©´ì— í‘œì‹œ ê°€ëŠ¥
- âœ… ë¡œë”© ìƒíƒœì™€ ì—ëŸ¬ ì²˜ë¦¬ ê°€ëŠ¥
- âœ… ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ êµ¬í˜„ ê°€ëŠ¥

**React í•™ìŠµì„ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸš€



## 12. ë¶€ë¡: ìœ ìš©í•œ íŒ¨í„´ ëª¨ìŒ

### 12.1 íŒ¨í„´ 1: API ì‘ë‹µ ë˜í¼
```js
async function apiCall(url, options = {}) {
  try {
    const response = await fetch(url, options);
    
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}`);
    }
    
    const data = await response.json();
    return { success: true, data };
    
  } catch (error) {
    return { success: false, error: error.message };
  }
}

// ì‚¬ìš©
const result = await apiCall('/api/users');
if (result.success) {
  console.log(result.data);
} else {
  console.error(result.error);
}
```



### 12.2 íŒ¨í„´ 2: ìˆœì°¨ vs ë³‘ë ¬ ì„ íƒ
```js
async function smartFetch(urls, parallel = true) {
  if (parallel) {
    // ë³‘ë ¬ ì‹¤í–‰ (ë¹ ë¦„)
    return await Promise.all(
      urls.map(url => fetch(url).then(r => r.json()))
    );
  } else {
    // ìˆœì°¨ ì‹¤í–‰ (ì•ˆì „)
    const results = [];
    for (const url of urls) {
      const response = await fetch(url);
      const data = await response.json();
      results.push(data);
    }
    return results;
  }
}
```



### 12.3 íŒ¨í„´ 3: ì¡°ê±´ë¶€ fetch
```js
async function conditionalFetch(useCache = true) {
  const cacheKey = 'userData';
  
  if (useCache) {
    const cached = localStorage.getItem(cacheKey);
    if (cached) {
      console.log('ìºì‹œ ì‚¬ìš©');
      return JSON.parse(cached);
    }
  }
  
  console.log('ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ê¸°');
  const response = await fetch('/api/user');
  const data = await response.json();
  
  localStorage.setItem(cacheKey, JSON.stringify(data));
  return data;
}
```
