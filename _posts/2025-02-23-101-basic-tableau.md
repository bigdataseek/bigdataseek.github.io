---
title: 7차시 5:데이터 시각화(tableau basic) 
layout: single
classes: wide
categories:
  - 데이터 시각화
tags:
  - tableau
---

## 1. Tableau 다루기

### **1-1. 태블로와 워크시트**
- **태블로 소개**: 태블로는 데이터를 시각화하고 분석하기 위한 BI(Business Intelligence) 도구로, 직관적인 드래그 앤 드롭 인터페이스를 제공합니다.
- **워크시트 구조**: 워크시트는 데이터를 시각적으로 표현하는 기본 단위입니다. 열(Columns), 행(Rows), 필터(Filters), 마크(Marks) 등으로 구성됩니다.
- **파일 관리**: 태블로 파일(.twb, .twbx)의 차이와 저장 방법.
  - .twb: 워크북 파일(데이터 소스 연결 필요).
  - .twbx: 패키지 워크북(데이터 포함).
- **워크시트 관리**: 워크시트 생성, 복사, 이름 변경, 대시보드 연결.

#### **실습 예제**
- **주제**: "판매 데이터 워크시트 생성"
- **데이터**: 샘플 데이터셋(예: Superstore 데이터셋의 "Category"와 "Sales").
- **단계**:
  1. 태블로를 열고 Superstore 샘플 데이터를 연결합니다.
  2. 새 워크시트를 생성하고 이름을 "Category별 판매"로 지정합니다.
  3. "Category"를 열(Columns)에, "Sales"를 행(Rows)에 드래그하여 기본 막대 그래프를 생성합니다.
  4. 워크시트를 .twbx 파일로 저장합니다.




### **1-2. 표현 방식과 마크 카드**
- **표현 방식**: 태블로는 막대, 선, 원형, 산점도 등 다양한 차트 유형을 제공합니다. 데이터 유형(측정값, 차원)에 따라 적합한 표현 방식을 선택해야 합니다.
- **마크 카드**: 시각적 요소(색상, 크기, 레이블, 세부 정보)를 조정하는 도구.
  - **유형(Mark Type)**: 막대, 선, 영역 등.
  - **속성**: 색상(Color), 크기(Size), 레이블(Label), 툴팁(Tooltip).
- **활용 예**: 색상으로 카테고리 구분, 크기로 판매량 강조.

#### **실습 예제**
- **주제**: "마크 카드를 활용한 지역별 판매 시각화"
- **데이터**: Superstore 데이터셋("Region", "Sales", "Category").
- **단계**:
  1. 새 워크시트를 생성하고 "Region"을 열(Columns), "Sales"를 행(Rows)에 추가합니다.
  2. 마크 유형을 "막대(Bar)"로 설정합니다.
  3. "Category"를 색상(Color)에 드래그하여 카테고리별로 색상을 구분합니다.
  4. "Sales"를 크기(Size)에 추가해 판매량에 따라 막대 크기를 조정합니다.
  5. 레이블(Label)을 추가해 각 막대에 판매액을 표시합니다.




### **1-3. 그룹 및 계층과 필터**
- **그룹(Group)**: 비슷한 항목을 묶어 분석을 단순화합니다. 예: 특정 제품을 "Office Supplies"로 그룹화.
- **계층(Hierarchy)**: 데이터의 상위-하위 관계를 정의합니다. 예: Region → State → City.
- **필터(Filter)**: 원하는 데이터만 표시하도록 제한합니다. 
  - **종류**: 차원 필터(카테고리), 측정값 필터(판매액 범위), 날짜 필터.
- **활용**: 그룹과 계층으로 데이터를 구조화하고, 필터로 특정 조건에 맞는 데이터만 시각화.

#### **실습 예제**
- **주제**: "Office Supplies 그룹화 및 필터 적용"
- **데이터**: Superstore 데이터셋("Sub-Category", "Sales").
- **단계**:
  1. "Sub-Category"를 열(Columns)에, "Sales"를 행(Rows)에 추가합니다.
  2. "Sub-Category"에서 "Binders", "Paper", "Accessories"를 선택하고 우클릭 → "그룹 생성" → 이름을 "Office Supplies"로 지정합니다.
  3. "Region" 필드를 드래그하여 계층(Hierarchy)을 생성하고 "Region → State"로 설정합니다.
  4. 필터 창에 "Sales"를 추가하고 판매액이 10,000 이상인 데이터만 표시하도록 설정합니다.
  5. 결과를 확인하고 워크시트 이름을 "Office Supplies 분석"으로 저장합니다.




### **1-4. 서식과 분석**
- **서식(Formatting)**: 그래프의 시각적 요소(축 레이블, 색상, 글꼴)를 조정해 가독성을 높입니다.
  - **예**: 축 단위 설정(천 단위로 표시), 색상 테마 변경.
- **분석 방법**: 태블로의 분석 도구를 활용해 통찰력을 도출합니다.
  - **추세선(Trend Line)**: 데이터의 경향성 파악.
  - **집계(Aggregation)**: 합계, 평균 등으로 데이터 요약.
  - **툴팁(Tooltip)**: 세부 정보를 표시.
- **활용**: 서식으로 보기 좋게 만들고, 분석으로 데이터의 의미를 해석.

#### **실습 예제**
- **주제**: "연간 판매 추세 분석 및 서식 조정"
- **데이터**: Superstore 데이터셋("Order Date", "Sales").
- **단계**:
  1. "Order Date"를 열(Columns)에 추가하고 연도 단위로 설정합니다.
  2. "Sales"를 행(Rows)에 추가하고 마크 유형을 "선(Line)"으로 변경합니다.
  3. 분석 탭에서 "추세선(Trend Line)"을 추가해 판매 추세를 확인합니다.
  4. 서식 메뉴에서 축 레이블을 "천 단위($K)"로 설정하고, 선 색상을 파란색으로 변경합니다.
  5. 툴팁에 "Category"를 추가해 마우스 오버 시 카테고리별 세부 정보를 표시합니다.
  6. 워크시트 이름을 "판매 추세 분석"으로 저장합니다.



## 2. Tableau 차트 다루기

### **2-1. 막대와 라인 차트**
- **막대 차트 (Bar Chart)**  
  - **용도**: 카테고리별 수치 비교(예: 매출, 수량).
  - **특징**: 세로 또는 가로 막대 형태로 데이터 크기를 시각화. 길이가 값의 크기를 나타냄.
  - **활용 팁**: 색상으로 추가 차원(예: 지역별 구분) 추가 가능.
  - **실습**
	- **단계**
	    - "Columns"에 "Sales"를 드래그, "Rows"에 "Region" 추가.  
        - 결과: 각 지역별 매출 합계를 막대 형태로 표시.  
        - 추가: "Category"를 "Color"에 추가해 카테고리별 구분.

- **라인 차트 (Line Chart)**  
  - **용도**: 시간에 따른 추세 분석(예: 월별 매출 변화).
  - **특징**: 연속적인 데이터 포인트를 선으로 연결.
  - **활용 팁**: 다중 라인을 사용해 여러 항목 비교 가능.
  - **실습**
	- **단계**
        - "Columns"에 "Order Date"(월 단위로 설정), "Rows"에 "Sales" 추가.  
        - 결과: 시간에 따른 매출 추세를 선으로 표시.  
        - 추가: "Region"을 "Color"에 추가해 지역별 추세 비교.
			
     

### **2-2. 텍스트 테이블**
- **용도**: 정량적 데이터의 상세 수치 확인(예: 지역별, 제품별 매출).
- **특징**: 행과 열로 구성된 표 형태로, 숫자 데이터를 직접 표시.
- **활용 팁**: 색상으로 값의 크기를 강조(조건부 서식).
- **실습**
	- **주제**: 제품별 매출과 이익 상세 확인.
	- **단계**:
		1. "Rows"에 "Category"와 "Sub-Category" 추가, "Text"에 "Sales"와 "Profit" 드래그.
		2. 결과: 카테고리와 하위 카테고리별 매출과 이익을 표로 표시.
		3. 추가: "Profit"에 색상을 적용해 이익 크기를 강조(빨간색: 손실, 초록색: 이익).


### **2-3. 히트맵과 분산형 차트**
- **히트맵 (Heat Map)**  
  - **용도**: 데이터 밀도나 패턴 시각화(예: 카테고리별 매출 강도).
  - **특징**: 색상 강도로 값의 크기를 표현, 크기 조절로 추가 차원 표시.
  - **활용 팁**: 크기와 색상을 동시에 활용해 다차원 분석 가능.
	- **실습**
		- **주제**: 카테고리별 매출 밀도와 매출-이익 관계 분석.
		- **단계**:
			- "Columns"에 "Category", "Rows"에 "Sub-Category" 추가.  
			- "Sales"를 "Size"와 "Color"에 드래그.  
			- 결과: 매출 크기에 따라 색상과 사각형 크기가 변동.

- **분산형 차트 (Scatter Chart)**  
  - **용도**: 두 변수 간 관계 분석(예: 매출 vs 이익).
  - **특징**: 데이터 포인트를 점으로 표시, X축과 Y축으로 두 변수를 나타냄.
  - **활용 팁**: 색상과 크기로 세 번째 변수 추가 가능.
	- **실습**
		- **주제**: 카테고리별 매출 밀도와 매출-이익 관계 분석.
		- **단계**:
			- "Columns"에 "Sales", "Rows"에 "Profit" 추가.  
			- "Category"를 "Color"에, "Sub-Category"를 "Detail"에 추가.  
			- 결과: 매출과 이익 간 관계를 점으로 표시, 카테고리별 색상 구분.

### **2-4. 다양한 기타 차트**
- **영역 차트 (Area Chart)**: 라인 차트와 유사하나 면적으로 채워짐, 누적 데이터 표현에 유용.
	- **실습**			
        - Columns: "Order Date"를 드래그하고, 연속형 "Month"로 설정합니다(년/월 단위로 표시되도록).
        - Rows: "Sales"를 드래그하여 매출 합계를 표시합니다.
        - Color: "Category"를 "Marks" 패널의 "Color"에 드래그하여 각 카테고리를 색상으로 구분합니다.
        - "Marks" 패널의 드롭다운 메뉴에서 "Bar" 또는 "Line" 대신 "Area"를 선택합니다.
        - 결과: 월별 매출이 각 카테고리별로 색상이 채워진 영역으로 표시됩니다

- **파이 차트 (Pie Chart)**: 전체 대비 비율을 시각화(예: 카테고리별 점유율).
	- **실습**
		- "Angle"에 "Sales", "Color"에 "Category" 추가.  
		- 결과: 카테고리별 매출 비율을 원형으로 표시.

- **트리맵 (Treemap)**: 계층적 데이터 시각화, 크기와 색상으로 값 표현.
	- **실습**
		- "Size"에 "Sales", "Color"에 "Profit", "Label"에 "Sub-Category" 추가.  
		- 결과: 하위 카테고리별 매출 크기와 이익을 직사각형으로 표현.

- **간트 차트(Gantt Chart)**: 시간에 따른 작업 또는 이벤트의 시작점과 지속 시간을 막대 형태로 표현합니다.
    - **실습**
        1. **데이터 준비: 지속 시간 계산**
            - "Order Date"와 "Ship Date" 사이의 차이를 계산해 "처리 기간(Duration)" 필드 생성.
            - 데이터 패널에서 "Create Calculated Field" 선택.
            - 이름: `처리 기간`
            - 공식: `DATEDIFF("day", [Order Date], [Ship Date])`
            - 확인 클릭.

        2. **간트 차트 설정**
            - **Y축(Rows)**: "Order ID"를 행 선반(Rows Shelf)에 드래그 → 주문별로 세로축 구성.
            - **X축(Columns)**: "Order Date"를 열 선반(Columns Shelf)에 드래그 → "Day" 단위로 설정.
            - **막대 크기(Size)**: "처리 기간"을 크기(Size) 마크에 드래그 → 막대 길이로 처리 기간 표시.

        3. **시각화 조정**
            - **마크 유형**: "Gantt Bar"로 설정 (Marks 드롭다운에서 선택).
            - **색상(Color)**: "Category"를 색상(Color) 마크에 드래그 → 카테고리별 색상 구분.
            - **필터 추가**: "Order Date"를 필터에 추가하고 2023년 데이터만 선택.

        4. **레이블 추가 (선택)**
            - "처리 기간"을 레이블(Label) 마크에 드래그 → 각 막대에 처리 일수 표시.



## 3. Tableau에서 데이터 연결하기

### **3-1. 데이터에 연결하기**
- **설명**: 태블로는 다양한 데이터 소스(Excel, CSV, SQL, Google Sheets 등)에 연결할 수 있는 강력한 도구입니다. 데이터 연결은 분석의 첫 단계로, 올바른 소스를 선택하고 데이터를 가져오는 과정이 중요합니다.
- **핵심 개념**:
  - **연결 유형**: 실시간 연결(Live) vs 추출(Extract).
    - **Live**: 데이터 소스가 실시간으로 업데이트됨.
    - **Extract**: 데이터를 태블로에 저장하여 빠른 분석 가능.
  - **데이터 소스 종류**: 파일 기반(Excel, CSV), 서버 기반(DB), 클라우드 기반(Google Sheets).
  - **데이터 병합**: 여러 소스를 결합(JOIN 또는 UNION).
- **팁**: 데이터 연결 시 파일 형식과 인코딩(예: UTF-8)을 확인하세요.

- **실습**
    - **목표**: Superstore 데이터를 태블로에 연결하고 Extract 모드로 저장.
    - **단계**:
    1. 태블로를 열고 "Connect" > "Microsoft Excel" 선택.
    2. "Sample - Superstore.xls" 파일 업로드.
    3. "Orders" 시트를 드래그하여 데이터 소스 창에 추가.
    4. 연결 옵션을 "Extract"로 변경하고 저장 위치 지정.
    - **결과 확인**: 데이터 미리보기에 주문(Order), 고객(Customer), 제품(Product) 등의 열이 표시되는지 확인.

### **3-2. 원본과 메타데이터 관리**
- **설명**: 메타데이터는 데이터에 대한 정보(열 이름, 데이터 유형 등)를 의미하며, 이를 관리하면 분석이 더 효율적이고 정확해집니다.
- **핵심 개념**:
  - **열 이름 변경**: 이해하기 쉬운 이름으로 수정.
  - **데이터 유형 설정**: 숫자, 문자열, 날짜 등으로 지정.
  - **계층 구조 생성**: 관련 필드를 그룹화(예: "국가 > 주 > 도시").
  - **기본값 설정**: 결측값 처리(예: NULL을 0으로 변경).
- **중요성**: 메타데이터가 정리되지 않으면 시각화 과정에서 오류 발생 가능.
- **실습 2: 원본과 메타데이터 관리**
    - **목표**: 열 이름을 변경하고 계층 구조를 생성.
    - **단계**:
    1. **데이터 소스 창**에서 "Orders" 탭으로 이동.
    2. "Order Date" 열 이름을 "주문 날짜"로 변경 (오른쪽 클릭 > Rename).
    3. "Profit" 열의 데이터 유형을 "숫자(소수점)"으로 확인 (오른쪽 클릭 > Change Data Type).
    4. 계층 생성:
        - "Country", "State", "City" 필드를 선택.
        - 오른쪽 클릭 > "Create Hierarchy" > 이름: "지역 계층".
    5. 결측값 확인: "Sales" 열에서 NULL 값이 있으면 0으로 기본값 설정 (오른쪽 클릭 > Default Properties > Number).
    - **결과 확인**: "지역 계층"이 왼쪽 데이터 패널에 생성되고, 열 이름이 직관적으로 변경됨.


### **3-3. 데이터 필터링하기**
- **설명**: 데이터 필터링은 불필요한 데이터를 제외하고 원하는 데이터만 분석에 활용하는 기술입니다.
- **핵심 개념**:
  - **필터 유형**: 
    - **데이터 소스 필터**: 데이터 가져오기 전 적용.
    - **컨텍스트 필터**: 다른 필터에 영향을 주는 상위 필터.
    - **시각화 필터**: 특정 차트에만 적용.
  - **필터 조건**: 범위(숫자), 특정 값(문자열), 날짜 등.
  - **와일드카드**: 일부 문자열로 필터링(예: "Office*"로 시작하는 항목).
- **활용 사례**: 특정 지역, 기간, 카테고리만 분석.
- **실습 3: 데이터 필터링하기**
    - **목표**: 2023년도 "Furniture" 카테고리 매출만 분석.
    - **단계**:
    1. **새 워크시트** 생성.
    2. "주문 날짜"를 필터 선반(Filters Shelf)에 드래그.
        - "Year" 선택 > "2023"만 체크 > 적용.
    3. "Category"를 필터 선반에 드래그.
        - "Furniture"만 선택 > 적용.
    4. "Sales"를 열(Columns)에, "State"를 행(Rows)에 드래그하여 막대그래프 생성.
    5. 추가 필터: "Profit"을 필터 선반에 추가 > 범위 설정(0 이상).
    - **결과 확인**: 2023년도 Furniture 카테고리의 주별 매출 막대그래프가 표시되며, 손실(Profit < 0) 데이터는 제외됨.



## 4. 테이블 계산을 통한 심층 분석

### **4.1 테이블 계산 개요**
- **정의**: 테이블 계산은 태블로에서 이미 시각화된 데이터(뷰)를 기반으로 추가적인 계산을 수행하는 기능입니다. 데이터 소스에서 직접 계산하지 않고, 뷰에 표시된 결과값에 대해 동적으로 연산합니다.
- **주요 특징**:
  - 뷰의 집계된 데이터(예: SUM, AVG 등)를 대상으로 작동.
  - 방향성(예: 행 기준, 열 기준)을 설정해 계산.
- **활용 예시**:
  - 누적 합계(Running Total), 백분율(Percent of Total), 차이(Difference) 등.
- **기본 개념**:
  - **Scope(범위)**: 계산이 적용되는 데이터 범위(예: 테이블 전체, 특정 행/열).
  - **Direction(방향)**: 계산이 진행되는 방향(예: 위에서 아래, 왼쪽에서 오른쪽).

- **실습**
    - **목표**: 테이블 계산의 기본 작동 원리 이해.
    - **단계**:
        1. 태블로에서 Superstore 데이터셋을 불러옴.
        2. "Orders" 시트를 열고, "Sales"를 Rows에, "Year(Order Date)"를 Columns에 드래그.
        3. 결과: 연도별 매출 합계가 표로 표시됨.
        4. "Sales" 필드 오른쪽 클릭 → "Add Table Calculation" → "Running Total" 선택.
        5. 방향을 "Table (Across)"로 설정 → 연도별 누적 매출 확인.




### **4.2 퀵 테이블 계산 (Quick Table Calculation)**
- **설명**: 태블로에서 제공하는 미리 정의된 계산 옵션으로, 클릭 몇 번으로 빠르게 적용 가능.
- **주요 옵션**:
  - Running Total (누적 합계)
  - Percent of Total (전체 대비 백분율)
  - Difference (값 간 차이)
  - Rank (순위)
- **활용 사례**: 매출 데이터를 시각화한 후, 연간 매출의 누적 합계를 확인하거나, 전체 매출 대비 각 지역의 비율을 계산.
- **실습 2: 퀵 테이블 계산 활용**
    - **목표**: 퀵 테이블 계산으로 빠르게 분석 수행.
    - **단계**:
        1. 새로운 시트 생성.
        2. "Region"을 Columns에, "Sales"를 Rows에 추가 → 지역별 매출 막대그래프 생성.
        3. "Sales" 필드 오른쪽 클릭 → "Quick Table Calculation" → "Percent of Total" 선택.
        4. 결과: 각 지역의 매출이 전체 대비 백분율로 표시됨.
    - **추가 실습**: "Difference"를 적용해 지역 간 매출 차이를 확인.



### **4.3 상대와 고정 테이블 계산**
- **상대(Relative) 계산**:
  - 뷰의 표시 방식에 따라 동적으로 계산 범위가 변동.
  - 예: "Table (Across)" - 열을 따라 계산, "Pane (Down)" - 패널 내에서 아래로 계산.
- **고정(Fixed) 계산**:
  - 사용자가 특정 범위(예: 전체 테이블, 특정 차원)를 고정해 계산.
  - 예: 모든 연도에 대해 고정된 총합을 기준으로 백분율 계산.
- **차이점**: 상대는 뷰의 레이아웃에 의존, 고정은 독립적으로 설정 가능.
- **실습 3: 상대 vs 고정 테이블 계산**
    - **목표**: 상대와 고정 계산의 차이점 비교.
    - **단계**:
        1. 새로운 시트 생성.
        2. "Category"를 Columns에, "Year(Order Date)"를 Rows에, "Sales"를 Text에 추가 → 테이블 생성.
        3. **상대 계산**:
            - "Sales" → "Quick Table Calculation" → "Percent of Total".
            - Scope를 "Table (Down)"으로 설정 → 연도별 카테고리 백분율 확인.
        4. **고정 계산**:
            - "Sales" → "Edit Table Calculation" → "Compute Using"을 "Category"로 고정.
            - 결과: 각 카테고리 내 연도별 비율로 변경.



### **4.4 사용자 정의 테이블 계산**
- **정의**: 태블로의 기본 제공 계산 외에, 사용자가 원하는 로직으로 직접 수식을 작성.
- **작성 방법**: 계산 필드(Calculated Field)에서 스크립트를 입력.
- **주요 함수**:
  - `RUNNING_SUM()`: 누적 합계
  - `WINDOW_SUM()`: 윈도우 내 합계
  - `PREVIOUS_VALUE()`: 이전 값 참조
- **활용 사례**: 특정 조건에 맞는 누적값 계산(예: 매출이 10만 이상인 경우만 누적).
- **실습 4: 사용자 정의 테이블 계산**
    - **목표**: 사용자 정의 수식으로 고급 분석 수행.
    - **단계**:
        1. 새로운 시트 생성.
        2. "Month(Order Date)"를 Columns에, "Sales"를 Rows에 추가 → 월별 매출 라인그래프 생성.
        3. "Create Calculated Field" 클릭 → 이름: "Cumulative Sales Above 50000".
        4. 수식 입력:
            ```
            IF RUNNING_SUM(SUM([Sales])) > 50000 THEN RUNNING_SUM(SUM([Sales])) ELSE NULL END
            ```
        5. 계산 필드를 Rows에 추가 → 누적 매출이 5만을 넘는 시점부터 표시됨.











## 5. 멋지고 잘 동작하는 시각화 만들기

## 6. 대시보드를 이용한 데이터 스토리 전달하기

## 7. 데이터 시각적을 분석하기

