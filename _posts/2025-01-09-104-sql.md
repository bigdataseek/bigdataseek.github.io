---
title: 1ì°¨ì‹œ 4(ë¹…ë°ì´í„° ë¶„ì„):MySQL
layout: single
classes: wide
categories:
  - MySQL
toc: true # ì´ í¬ìŠ¤íŠ¸ì—ì„œ ëª©ì°¨ë¥¼ í™œì„±í™”
toc_sticky: true # ëª©ì°¨ë¥¼ ê³ ì •í• ì§€ ì—¬ë¶€ (ì„ íƒ ì‚¬í•­)
---

# 1. ì´ˆë³´ìë¥¼ ìœ„í•œ í´ë”ì™€ íŒŒì¼ë¡œ ì´í•´í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤

## ğŸ¯ ê°•ì¢Œ ëª©í‘œ
- ì¼ìƒì ì¸ í´ë”/íŒŒì¼ ê´€ë¦¬ ê²½í—˜ì„ í†µí•´ SQL ê°œë… ì´í•´
- ì—‘ì…€ ì‚¬ìš© ê²½í—˜ì„ í™œìš©í•œ í…Œì´ë¸” ì¡°ì‘ í•™ìŠµ
- ì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ ìœ„ì£¼ë¡œ êµ¬ì„±

## 1. ë‹¨ê³„: ê¸°ë³¸ ê°œë… ì´í•´ (í´ë” ë§Œë“¤ê¸°)
### 1.0 MySQL ì‹¤í–‰
```sql
-- í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰
mysql -u root -p
```
### 1.1 ë°ì´í„°ë² ì´ìŠ¤ = í´ë”
**ë¹„ìœ **: ì»´í“¨í„°ì˜ í´ë”ì²˜ëŸ¼ ê´€ë ¨ëœ íŒŒì¼ë“¤ì„ ëª¨ì•„ë‘ëŠ” ê³µê°„

```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ
SHOW DATABASES;

-- ë°ì´í„°ë² ì´ìŠ¤ ë§Œë“¤ê¸°
CREATE DATABASE íšŒì‚¬ê´€ë¦¬;

--  ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ ë°”ê¾¸ê¸° (MySQLì—ì„œëŠ” ì•ˆì „ì„± ì´ìœ ë¡œ ì§€ì› X)

-- ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œí•˜ê¸°
DROP DATABASE ê¸°ì—…ê´€ë¦¬;

-- ì‘ì—…í•  ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒí•˜ê¸° (í´ë” ë”ë¸”í´ë¦­ê³¼ ê°™ìŒ)
USE íšŒì‚¬ê´€ë¦¬;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—¬ëŸ¬ë¶„ì´ ë°”íƒ•í™”ë©´ì— 'ê°œì¸ë¬¸ì„œ', 'ì—…ë¬´ìë£Œ' í´ë”ë¥¼ ë§Œë“œëŠ” ê²ƒì²˜ëŸ¼, ë°ì´í„°ë² ì´ìŠ¤ë„ ëª©ì ì— ë”°ë¼ ë‚˜ëˆ ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤."

## 2. ë‹¨ê³„: í…Œì´ë¸” ê´€ë¦¬ 

### 2.1 í…Œì´ë¸” = ì—‘ì…€ íŒŒì¼
**ë¹„ìœ **: í´ë” ì•ˆì˜ ì—‘ì…€ íŒŒì¼ì²˜ëŸ¼ í–‰ê³¼ ì—´ë¡œ êµ¬ì„±ëœ í‘œ

```sql
-- í…Œì´ë¸” ì¡°íšŒ
SHOW TABLES;

-- íŒŒì¼(í…Œì´ë¸”) ë§Œë“¤ê¸° - ì—‘ì…€ì—ì„œ ì œëª© í–‰ì„ ë§Œë“œëŠ” ê²ƒê³¼ ê°™ìŒ
-- ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ë“±ì€ ë³´í†µ 1ë°”ì´íŠ¸ë¥¼ ì°¨ì§€
-- UTF-8ì—ì„œ í•œê¸€ì€ ë³´í†µ 3ë°”ì´íŠ¸, VARCHAR(30)ì€ í•œê¸€ 10ì
CREATE TABLE ì§ì›ëª…ë‹¨ (
    ì§ì›ë²ˆí˜¸ INT PRIMARY KEY,     -- ì‚¬ë²ˆ (ì¤‘ë³µë¶ˆê°€)
    ì´ë¦„ VARCHAR(50) NOT NULL,     -- ì´ë¦„ (í•„ìˆ˜ì…ë ¥)
    ë¶€ì„œ VARCHAR(30),              -- ë¶€ì„œ
    ì…ì‚¬ì¼ DATE,                   -- ì…ì‚¬ì¼
    ê¸‰ì—¬ INT                       -- ê¸‰ì—¬
);

-- í…Œì´ë¸” ì´ë¦„ ë°”ê¾¸ê¸°
ALTER TABLE ì§ì›ëª…ë‹¨ RENAME TO ì‚¬ì›ì •ë³´;

-- í…Œì´ë¸” ì‚­ì œí•˜ê¸°
DROP TABLE ì‚¬ì›ì •ë³´;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ ì²« ë²ˆì§¸ í–‰ì— 'ì´ë¦„', 'ë‚˜ì´', 'ì „í™”ë²ˆí˜¸' ê°™ì€ ì œëª©ì„ ì“°ëŠ” ê²ƒì²˜ëŸ¼, SQLë„ ë¯¸ë¦¬ ì–´ë–¤ ì •ë³´ë¥¼ ì €ì¥í• ì§€ ì •í•´ë‘¡ë‹ˆë‹¤."

## 3. ë‹¨ê³„: ì—‘ì…€ì²˜ëŸ¼ í…Œì´ë¸” êµ¬ì¡° ë³€ê²½í•˜ê¸°

### 3.1 ì—´(ì»¬ëŸ¼) ê´€ë¦¬ 

```sql
-- ì—´(ì»¬ëŸ¼) ì¡°íšŒ
DESCRIBE ì§ì›ëª…ë‹¨;
-- SHOW COLUMNS FROM ì§ì›ëª…ë‹¨

-- ìƒˆë¡œìš´ ì—´ ì¶”ê°€í•˜ê¸° (ì—‘ì…€ì—ì„œ ì—´ ì‚½ì…ê³¼ ê°™ìŒ)
ALTER TABLE ì§ì›ëª…ë‹¨ ADD COLUMN ì—°ë½ì²˜ VARCHAR(20);

-- ì—´ ì´ë¦„ ë°”ê¾¸ê¸° (ì—‘ì…€ì—ì„œ ì œëª© ì…€ ìˆ˜ì •ê³¼ ê°™ìŒ)
ALTER TABLE ì§ì›ëª…ë‹¨ RENAME COLUMN ì—°ë½ì²˜ TO ì „í™”ë²ˆí˜¸;

-- ì—´ ë°ì´í„° íƒ€ì… ë³€ê²½í•˜ê¸°
ALTER TABLE ì§ì›ëª…ë‹¨ MODIFY COLUMN ê¸‰ì—¬ DECIMAL(10,2);

-- ì—´ ì‚­ì œí•˜ê¸° (ì—‘ì…€ì—ì„œ ì—´ ì‚­ì œì™€ ê°™ìŒ)
ALTER TABLE ì§ì›ëª…ë‹¨ DROP COLUMN ì „í™”ë²ˆí˜¸;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ ìƒˆë¡œìš´ ì •ë³´ê°€ í•„ìš”í•˜ë©´ ì—´ì„ ì¶”ê°€í•˜ê³ , ë¶ˆí•„ìš”í•˜ë©´ ì‚­ì œí•˜ëŠ” ê²ƒì²˜ëŸ¼ SQLë„ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤."


## 4. ë‹¨ê³„: ë°ì´í„° ì…ë ¥ê³¼ ìˆ˜ì •

### 4.1 í–‰ ì¶”ê°€í•˜ê¸° 

```sql
-- ìƒˆë¡œìš´ ì§ì› ì •ë³´ ì¶”ê°€ (ì—‘ì…€ì—ì„œ ë¹ˆ í–‰ì— ë°ì´í„° ì…ë ¥ê³¼ ê°™ìŒ)
INSERT INTO ì§ì›ëª…ë‹¨ (ì§ì›ë²ˆí˜¸, ì´ë¦„, ë¶€ì„œ, ì…ì‚¬ì¼, ê¸‰ì—¬) 
VALUES (1001, 'ê¹€ì² ìˆ˜', 'ê°œë°œíŒ€', '2024-01-15', 3500);

-- ì—¬ëŸ¬ ëª… í•œë²ˆì— ì¶”ê°€ (ì»¬ëŸ¼ëª… ë¯¸ê¸°ì¬ì‹œ,ìˆœì„œëŒ€ë¡œ ì‚½ì…)
INSERT INTO ì§ì›ëª…ë‹¨ VALUES 
    (1002, 'ì´ì˜í¬', 'ë§ˆì¼€íŒ…íŒ€', '2024-02-01', 3200),
    (1003, 'ë°•ë¯¼ìˆ˜', 'ê°œë°œíŒ€', '2024-01-20', 3800);
```

### 4.2 íŠ¹ì • ì…€ ê°’ ìˆ˜ì •í•˜ê¸°

```sql
-- ê¹€ì² ìˆ˜ì˜ ê¸‰ì—¬ ì¸ìƒ (ì—‘ì…€ì—ì„œ íŠ¹ì • ì…€ ê°’ ë³€ê²½ê³¼ ê°™ìŒ)
UPDATE ì§ì›ëª…ë‹¨ 
SET ê¸‰ì—¬ = 3800 
WHERE ì´ë¦„ = 'ê¹€ì² ìˆ˜';

-- ê°œë°œíŒ€ ì „ì²´ ê¸‰ì—¬ 10% ì¸ìƒ
UPDATE ì§ì›ëª…ë‹¨ 
SET ê¸‰ì—¬ = ê¸‰ì—¬ * 1.1 
WHERE ë¶€ì„œ = 'ê°œë°œíŒ€';
```

### 4.3 í–‰ ì‚­ì œí•˜ê¸°

```sql
-- íŠ¹ì • ì§ì› ì‚­ì œ (ì—‘ì…€ì—ì„œ í–‰ ì‚­ì œì™€ ê°™ìŒ)
DELETE FROM ì§ì›ëª…ë‹¨ WHERE ì§ì›ë²ˆí˜¸ = 1001;

-- ì¡°ê±´ì— ë§ëŠ” ì—¬ëŸ¬ í–‰ ì‚­ì œ
DELETE FROM ì§ì›ëª…ë‹¨ WHERE ë¶€ì„œ = 'ë§ˆì¼€íŒ…íŒ€';
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ ì…€ì„ í´ë¦­í•´ì„œ ê°’ì„ ë°”ê¾¸ê±°ë‚˜, í–‰ì„ ì„ íƒí•´ì„œ ì‚­ì œí•˜ëŠ” ê²ƒì²˜ëŸ¼, SQLë„ WHERE ì¡°ê±´ìœ¼ë¡œ íŠ¹ì • ë°ì´í„°ë¥¼ ì°¾ì•„ì„œ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•©ë‹ˆë‹¤."


## 5. ë‹¨ê³„: ë°ì´í„° ì¡°íšŒí•˜ê¸° 

### 5.1 ê¸°ë³¸ ì¡°íšŒ 

```sql
-- ì „ì²´ ë°ì´í„° ë³´ê¸° (ì—‘ì…€ íŒŒì¼ ì—´ì–´ë³´ê¸°ì™€ ê°™ìŒ)
SELECT * FROM ì§ì›ëª…ë‹¨;

-- íŠ¹ì • ì—´ë§Œ ë³´ê¸° (ì—‘ì…€ì—ì„œ í•„ìš”í•œ ì—´ë§Œ ì„ íƒ)
SELECT ì´ë¦„, ë¶€ì„œ, ê¸‰ì—¬ FROM ì§ì›ëª…ë‹¨;
```

### 5.2 ì¡°ê±´ìœ¼ë¡œ ì°¾ê¸° 

```sql
-- ê°œë°œíŒ€ ì§ì›ë§Œ ë³´ê¸° (ì—‘ì…€ í•„í„°ì™€ ê°™ìŒ)
SELECT * FROM ì§ì›ëª…ë‹¨ WHERE ë¶€ì„œ = 'ê°œë°œíŒ€';

-- ê¸‰ì—¬ 3500 ì´ìƒì¸ ì§ì›
SELECT * FROM ì§ì›ëª…ë‹¨ WHERE ê¸‰ì—¬ >= 3500;

-- ì´ë¦„ì— 'ê¹€'ì´ ë“¤ì–´ê°„ ì§ì› (ì—‘ì…€ì˜ í…ìŠ¤íŠ¸ í•„í„°)
SELECT * FROM ì§ì›ëª…ë‹¨ WHERE ì´ë¦„ LIKE 'ê¹€%';
```

### 5.3 ì •ë ¬í•˜ê¸° 

```sql
-- ê¸‰ì—¬ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬ (ì—‘ì…€ì—ì„œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬)
SELECT * FROM ì§ì›ëª…ë‹¨ ORDER BY ê¸‰ì—¬ DESC;

-- ë¶€ì„œë³„ë¡œ ê·¸ë£¹í™”í•œ í›„ ê¸‰ì—¬ìˆœ ì •ë ¬
SELECT * FROM ì§ì›ëª…ë‹¨ ORDER BY ë¶€ì„œ, ê¸‰ì—¬ DESC;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ í•„í„°ë¥¼ ê±¸ì–´ì„œ ì›í•˜ëŠ” ë°ì´í„°ë§Œ ë³´ê±°ë‚˜, ì •ë ¬ ë²„íŠ¼ì„ í´ë¦­í•˜ëŠ” ê²ƒì²˜ëŸ¼, SQLì˜ WHEREì™€ ORDER BYê°€ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤."

## 6. ë‹¨ê³„: ë°ì´í„° ìš”ì•½í•˜ê¸° 

### 6.1 ì§‘ê³„ í•¨ìˆ˜ 

```sql
-- ì „ì²´ ì§ì› ìˆ˜ ì„¸ê¸° (ì—‘ì…€ì˜ COUNT í•¨ìˆ˜)
SELECT COUNT(*) AS ì´ì§ì›ìˆ˜ FROM ì§ì›ëª…ë‹¨;

-- í‰ê·  ê¸‰ì—¬ ê³„ì‚° (ì—‘ì…€ì˜ AVERAGE í•¨ìˆ˜)
SELECT AVG(ê¸‰ì—¬) AS í‰ê· ê¸‰ì—¬ FROM ì§ì›ëª…ë‹¨;

-- ìµœê³ /ìµœì € ê¸‰ì—¬ (ì—‘ì…€ì˜ MAX, MIN í•¨ìˆ˜)
SELECT MAX(ê¸‰ì—¬) AS ìµœê³ ê¸‰ì—¬, MIN(ê¸‰ì—¬) AS ìµœì €ê¸‰ì—¬ FROM ì§ì›ëª…ë‹¨;
```

### 6.2 ê·¸ë£¹í™” 

```sql
-- ë¶€ì„œë³„ ì§ì› ìˆ˜ì™€ í‰ê·  ê¸‰ì—¬ 
SELECT 
    ë¶€ì„œ,
    COUNT(*) AS ì§ì›ìˆ˜,
    AVG(ê¸‰ì—¬) AS í‰ê· ê¸‰ì—¬,
    SUM(ê¸‰ì—¬) AS ì´ê¸‰ì—¬
FROM ì§ì›ëª…ë‹¨ 
GROUP BY ë¶€ì„œ;

-- ë¶€ì„œë³„ í‰ê· ê¸‰ì—¬ê°€ 3500 ì´ìƒì¸ ë¶€ì„œë§Œ
SELECT ë¶€ì„œ, AVG(ê¸‰ì—¬) AS í‰ê· ê¸‰ì—¬
FROM ì§ì›ëª…ë‹¨ 
GROUP BY ë¶€ì„œ 
HAVING AVG(ê¸‰ì—¬) >= 3500;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ í”¼ë²—í…Œì´ë¸”ë¡œ ë¶€ì„œë³„ í‰ê· ì„ êµ¬í•˜ëŠ” ê²ƒì²˜ëŸ¼, SQLì˜ GROUP BYë¡œ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."


## 7. ë‹¨ê³„: ì—¬ëŸ¬ í…Œì´ë¸” ì—°ê²°í•˜ê¸° 

### 7.1 JOIN 

```sql
-- ë¶€ì„œ ì •ë³´ í…Œì´ë¸” ìƒì„±
CREATE TABLE ë¶€ì„œì •ë³´ (
    ë¶€ì„œëª… VARCHAR(30),
    ë¶€ì„œì¥ VARCHAR(50),
    ìœ„ì¹˜ VARCHAR(50)
);

-- ì§ì›ì •ë³´ì™€ ë¶€ì„œì •ë³´ ì—°ê²°í•˜ê¸° 
SELECT 
    ì§ì›ëª…ë‹¨.ì´ë¦„,
    ì§ì›ëª…ë‹¨.ë¶€ì„œ,
    ë¶€ì„œì •ë³´.ë¶€ì„œì¥,
    ë¶€ì„œì •ë³´.ìœ„ì¹˜
FROM ì§ì›ëª…ë‹¨ 
JOIN ë¶€ì„œì •ë³´ ON ì§ì›ëª…ë‹¨.ë¶€ì„œ = ë¶€ì„œì •ë³´.ë¶€ì„œëª…;
```

**ì‹¤ìŠµ í¬ì¸íŠ¸**: "ì—‘ì…€ì—ì„œ VLOOKUPìœ¼ë¡œ ë‹¤ë¥¸ ì‹œíŠ¸ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì²˜ëŸ¼, JOINìœ¼ë¡œ ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ í•©ì³ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."


## 8. ì‹¤ë¬´ í•µì‹¬ í•¨ìˆ˜ ì •ë¦¬

### ë‚ ì§œ í•¨ìˆ˜ (ì¼ìƒì—ì„œ ìì£¼ ì‚¬ìš©)
```sql
-- ì˜¤ëŠ˜ ë‚ ì§œ
SELECT CURDATE() AS ì˜¤ëŠ˜;

-- ì…ì‚¬í•œ ì§€ ëª‡ ë…„ ë˜ì—ˆëŠ”ì§€
SELECT ì´ë¦„, DATEDIFF(CURDATE(), ì…ì‚¬ì¼) / 365 AS ê·¼ì†ë…„ìˆ˜ 
FROM ì§ì›ëª…ë‹¨;
```

### ë¬¸ìì—´ í•¨ìˆ˜ (í…ìŠ¤íŠ¸ ì²˜ë¦¬)
```sql
-- ì´ë¦„ì„ ëŒ€ë¬¸ìë¡œ
SELECT UPPER(ì´ë¦„) FROM ì§ì›ëª…ë‹¨;

-- ì„±ê³¼ ì´ë¦„ ë¶„ë¦¬
SELECT 
    LEFT(ì´ë¦„, 1) AS ì„±,
    SUBSTRING(ì´ë¦„, 2) AS ì´ë¦„ë¶€ë¶„
FROM ì§ì›ëª…ë‹¨;
```

### ì¡°ê±´ í•¨ìˆ˜ (ì—‘ì…€ì˜ IF í•¨ìˆ˜)
```sql
-- ê¸‰ì—¬ì— ë”°ë¥¸ ë“±ê¸‰ ë§¤ê¸°ê¸° (ì—‘ì…€ì˜ IF í•¨ìˆ˜ì™€ ê°™ìŒ)
SELECT 
    ì´ë¦„,
    ê¸‰ì—¬,
    CASE 
        WHEN ê¸‰ì—¬ >= 4000 THEN 'ê³ ê¸‰'
        WHEN ê¸‰ì—¬ >= 3500 THEN 'ì¤‘ê¸‰'
        ELSE 'ì´ˆê¸‰'
    END AS ê¸‰ì—¬ë“±ê¸‰
FROM ì§ì›ëª…ë‹¨;
```


# 2.SQL ì…ë¬¸ê°€ì´ë“œ

## 1. SQLì´ë€ ë¬´ì—‡ì¸ê°€?

**SQL(Structured Query Language)**ì€ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì†Œí†µí•˜ê¸° ìœ„í•œ ì–¸ì–´ì…ë‹ˆë‹¤. ë§ˆì¹˜ ìš°ë¦¬ê°€ ì‚¬ëŒê³¼ ëŒ€í™”í•  ë•Œ í•œêµ­ì–´ë‚˜ ì˜ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼, ì»´í“¨í„° ë°ì´í„°ë² ì´ìŠ¤ì™€ ëŒ€í™”í•  ë•ŒëŠ” SQLì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

- **S (Structured)**: ë°ì´í„°ê°€ í‘œ(í…Œì´ë¸”) í˜•íƒœë¡œ ì •ë¦¬ë˜ì–´ ìˆë‹¤
- **Q (Query)**: ë°ì´í„°ë² ì´ìŠ¤ì—ê²Œ "ì´ëŸ° ì •ë³´ë¥¼ ë³´ì—¬ì¤˜"ë¼ê³  ì§ˆë¬¸í•œë‹¤
- **L (Language)**: íŠ¹ì •í•œ ë¬¸ë²•ì„ ê°€ì§„ ì–¸ì–´ë‹¤

## 2. SQLì˜ í•µì‹¬ 6ê°€ì§€ ëª…ë ¹ì–´ ("ë¹… ì‹ìŠ¤")

SQL ì¿¼ë¦¬ëŠ” í•­ìƒ ì •í•´ì§„ ìˆœì„œëŒ€ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤:

### 2.1 SELECT - "ë¬´ì—‡ì„ ë³¼ê¹Œ?"
í…Œì´ë¸”ì—ì„œ ì–´ë–¤ ì—´(ì»¬ëŸ¼)ì„ ë³´ê³  ì‹¶ì€ì§€ ì„ íƒí•©ë‹ˆë‹¤.

```sql
-- ëª¨ë“  ì»¬ëŸ¼ ë³´ê¸°
SELECT * FROM students;

-- íŠ¹ì • ì»¬ëŸ¼ë§Œ ë³´ê¸°
SELECT student_name, age, grade FROM students;
```

### 2.2 FROM - "ì–´ëŠ í…Œì´ë¸”ì—ì„œ?"
ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ í…Œì´ë¸”ì„ ì§€ì •í•©ë‹ˆë‹¤.

```sql
SELECT student_name FROM students;
-- "students í…Œì´ë¸”ì—ì„œ í•™ìƒ ì´ë¦„ì„ ë³´ì—¬ì¤˜"
```

### 2.3 WHERE - "ì–´ë–¤ ì¡°ê±´ìœ¼ë¡œ?"
íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.

```sql
-- ë‚˜ì´ê°€ 18ì„¸ ì´ìƒì¸ í•™ìƒë§Œ ë³´ê¸°
SELECT * FROM students WHERE age >= 18;

-- ì—¬ëŸ¬ ì¡°ê±´ ì‚¬ìš©í•˜ê¸°
SELECT * FROM students 
WHERE age >= 18 AND grade = 'A';
```

### 2.4 GROUP BY - "ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ"
ê°™ì€ ê°’ì„ ê°€ì§„ ë°ì´í„°ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³  ê³„ì‚°í•©ë‹ˆë‹¤.

```sql
-- í•™ë…„ë³„ í‰ê·  ì ìˆ˜ ê³„ì‚°
SELECT grade_level, AVG(score) as average_score
FROM students 
GROUP BY grade_level;
```

### 2.5 HAVING - "ê·¸ë£¹í™”ëœ ê²°ê³¼ ì¤‘ì—ì„œ"
GROUP BYë¡œ ë¬¶ì¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ í•„í„°ë§í•©ë‹ˆë‹¤.

```sql
-- í‰ê·  ì ìˆ˜ê°€ 80ì  ì´ìƒì¸ í•™ë…„ë§Œ ë³´ê¸°
SELECT grade_level, AVG(score) as average_score
FROM students 
GROUP BY grade_level
HAVING AVG(score) >= 80;
```

### 2.6 ORDER BY - "ì–´ë–¤ ìˆœì„œë¡œ?"
ê²°ê³¼ë¥¼ ì •ë ¬í•©ë‹ˆë‹¤.

```sql
-- ë‚˜ì´ ìˆœìœ¼ë¡œ ì •ë ¬ (ì˜¤ë¦„ì°¨ìˆœ)
SELECT * FROM students ORDER BY age;

-- ë‚˜ì´ ìˆœìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
SELECT * FROM students ORDER BY age DESC;
```

## 3.ìì£¼ ì‚¬ìš©í•˜ëŠ” ì¶”ê°€ ëª…ë ¹ì–´

**1.LIMIT - "ëª‡ ê°œë§Œ ë³´ì—¬ì¤˜"**

```sql
-- ìƒìœ„ 5ëª…ë§Œ ë³´ê¸°
SELECT * FROM students ORDER BY score DESC LIMIT 5;
```

**2.COUNT - "ëª‡ ê°œì¸ì§€ ì„¸ì–´ë´"**

```sql
-- ì „ì²´ í•™ìƒ ìˆ˜
SELECT COUNT(*) FROM students;

-- Aí•™ì  ë°›ì€ í•™ìƒ ìˆ˜
SELECT COUNT(*) FROM students WHERE grade = 'A';
```

**3.DISTINCT - "ì¤‘ë³µ ì œê±°í•´ì„œ"**

```sql
-- ì¤‘ë³µ ì œê±°í•œ í•™ë…„ ëª©ë¡
SELECT DISTINCT grade_level FROM students;
```

## 4. ì‹¤ìŠµ ì˜ˆì œ

```sql
-- 1. í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° ì…ë ¥ ì˜ˆì œ
CREATE TABLE students (
    student_id INT PRIMARY KEY,
    student_name VARCHAR(50),
    age INT,
    grade_level VARCHAR(10),
    gpa DECIMAL(3,2),
    school_lunch VARCHAR(10)
);

-- ìƒ˜í”Œ ë°ì´í„° ì…ë ¥
INSERT INTO students VALUES 
(1, 'ê¹€ë¯¼ìˆ˜', 16, '10í•™ë…„', 3.8, 'Yes'),
(2, 'ì´ì˜í¬', 17, '11í•™ë…„', 3.5, 'No'),
(3, 'ë°•ì² í˜¸', 15, '9í•™ë…„', 4.0, 'Yes'),
(4, 'ì •ìˆ˜ì§„', 18, '12í•™ë…„', 3.2, 'No'),
(5, 'ìµœë™í˜„', 16, '10í•™ë…„', 3.9, 'Yes');

-- 2. ê¸°ë³¸ SELECT ì¿¼ë¦¬ë“¤
-- ëª¨ë“  í•™ìƒ ì •ë³´ ë³´ê¸°
SELECT * FROM students;

-- íŠ¹ì • ì»¬ëŸ¼ë§Œ ë³´ê¸°
SELECT student_name, gpa FROM students;

-- 3. WHERE ì ˆ í™œìš©
-- GPAê°€ 3.5 ì´ìƒì¸ í•™ìƒë“¤
SELECT student_name, gpa 
FROM students 
WHERE gpa >= 3.5;

-- ê¸‰ì‹ì„ ë¨¹ëŠ” í•™ìƒë“¤ ì¤‘ GPAê°€ 3.8 ì´ìƒì¸ í•™ìƒ
SELECT student_name, gpa, school_lunch
FROM students 
WHERE school_lunch = 'Yes' AND gpa >= 3.8;

-- 4. ORDER BY í™œìš©
-- GPA ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬
SELECT student_name, gpa 
FROM students 
ORDER BY gpa DESC;

-- ë‚˜ì´ ìˆœìœ¼ë¡œ ì •ë ¬ í›„ ê°™ì€ ë‚˜ì´ë©´ GPA ìˆœìœ¼ë¡œ
SELECT student_name, age, gpa 
FROM students 
ORDER BY age, gpa DESC;

-- 5. GROUP BYì™€ ì§‘ê³„ í•¨ìˆ˜
-- í•™ë…„ë³„ í‰ê·  GPA
SELECT grade_level, AVG(gpa) as average_gpa
FROM students 
GROUP BY grade_level;

-- ê¸‰ì‹ ì—¬ë¶€ë³„ í•™ìƒ ìˆ˜ì™€ í‰ê·  GPA
SELECT school_lunch, COUNT(*) as student_count, AVG(gpa) as avg_gpa
FROM students 
GROUP BY school_lunch;

-- 6. HAVING ì ˆ í™œìš©
-- í‰ê·  GPAê°€ 3.5 ì´ìƒì¸ ê¸‰ì‹ ê·¸ë£¹ë§Œ ë³´ê¸°
SELECT school_lunch, AVG(gpa) as avg_gpa
FROM students 
GROUP BY school_lunch
HAVING AVG(gpa) >= 3.5;

-- 7. ì¶”ê°€ í•¨ìˆ˜ë“¤ í™œìš©
-- ìƒìœ„ 3ëª…ë§Œ ë³´ê¸°
SELECT student_name, gpa 
FROM students 
ORDER BY gpa DESC 
LIMIT 3;

-- ì¤‘ë³µ ì—†ëŠ” í•™ë…„ ëª©ë¡
SELECT DISTINCT grade_level FROM students;

-- ì „ì²´ í•™ìƒ ìˆ˜
SELECT COUNT(*) as total_students FROM students;

-- 8. JOIN ì˜ˆì œ (ì‹¬í™”)
-- ì„±ì  í…Œì´ë¸” ìƒì„±
CREATE TABLE student_grades (
    student_id INT,
    subject VARCHAR(20),
    score INT
);

INSERT INTO student_grades VALUES 
(1, 'ìˆ˜í•™', 85),
(1, 'ì˜ì–´', 90),
(2, 'ìˆ˜í•™', 78),
(2, 'ì˜ì–´', 88),
(3, 'ìˆ˜í•™', 95),
(3, 'ì˜ì–´', 92);

-- í•™ìƒ ì •ë³´ì™€ ì„±ì ì„ í•¨ê»˜ ë³´ê¸°
SELECT s.student_name, s.gpa, g.subject, g.score
FROM students s
LEFT JOIN student_grades g ON s.student_id = g.student_id
ORDER BY s.student_name, g.subject;
```

# 3. SQL ì¤‘ê¸‰ ê°œë… ì™„ì „ ê°€ì´ë“œ

## 1. UNIONê³¼ UNION ALL - ë°ì´í„° í•©ì¹˜ê¸°

### 1.1 ê°œë… ì„¤ëª…
ì—¬ëŸ¬ SELECT ë¬¸ì˜ ê²°ê³¼ë¥¼ ìœ„ì•„ë˜ë¡œ ìŒ“ì•„ ì˜¬ë¦¬ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
- **UNION**: ì¤‘ë³µ ì œê±° + í•©ì¹˜ê¸°
- **UNION ALL**: ì¤‘ë³µ ìœ ì§€ + í•©ì¹˜ê¸°

### 1.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- ê¸°ë³¸ í…Œì´ë¸” ë°ì´í„°
-- sales í…Œì´ë¸” ìƒì„±
CREATE TABLE sales (
    sales_id INT PRIMARY KEY,
    sales_date DATE,
    sales_amount DECIMAL(10, 2)
);

-- ë°ì´í„° ì‚½ì…
INSERT INTO sales (sales_id, sales_date, sales_amount) VALUES
(1, '2024-01-01', 1500.00),
(2, '2024-01-02', 1900.00),
(3, '2024-01-03', 2300.50),
(4, '2024-01-04', NULL),
(5, '2024-01-05', 1800.75);

-- UNION ì˜ˆì œ (ì¤‘ë³µ ì œê±°)
SELECT sales_date, sales_amount FROM sales WHERE sales_id <= 2
UNION
SELECT sales_date, sales_amount FROM sales WHERE sales_id >= 2;
-- ê²°ê³¼: 2ì¼ ë°ì´í„°ê°€ ì¤‘ë³µë˜ì–´ë„ í•œ ë²ˆë§Œ ë‚˜íƒ€ë‚¨

-- UNION ALL ì˜ˆì œ (ì¤‘ë³µ ìœ ì§€)
SELECT sales_date, sales_amount FROM sales WHERE sales_id <= 2
UNION ALL
SELECT sales_date, sales_amount FROM sales WHERE sales_id >= 2;
-- ê²°ê³¼: 2ì¼ ë°ì´í„°ê°€ ë‘ ë²ˆ ë‚˜íƒ€ë‚¨
```

## 2. ì„œë¸Œì¿¼ë¦¬ - ì¿¼ë¦¬ ì•ˆì˜ ì¿¼ë¦¬

### 2.1 ê°œë… ì„¤ëª…
ë‹¤ë¥¸ ì¿¼ë¦¬ ë‚´ë¶€ì— ë“¤ì–´ê°€ëŠ” SELECT ë¬¸ì…ë‹ˆë‹¤. ë§ˆì¹˜ ì„ì‹œ í…Œì´ë¸”ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2.2 ìƒ˜í”Œ ì½”ë“œ

```sql
-- í‰ê· ë³´ë‹¤ ë†’ì€ íŒë§¤ëŸ‰ì„ ê°€ì§„ ë‚ ì§œ ì°¾ê¸°
SELECT sales_date, sales_amount 
FROM (
    SELECT sales_date, sales_amount 
    FROM sales 
    WHERE sales_amount > (SELECT AVG(sales_amount) FROM sales)
) AS high_sales  -- ì„œë¸Œì¿¼ë¦¬ì— ì´ë¦„ ë¶€ì—¬
WHERE sales_date <= '2024-01-04';

-- ì‹¤ìš© ì˜ˆì œ: ê° ì§€ì—­ì˜ ìµœê³  íŒë§¤ëŸ‰ ì°¾ê¸°
-- ë°ì´í„° ì‚½ì… (region ì»¬ëŸ¼ ì¶”ê°€)
-- regional_sales í…Œì´ë¸” ìƒì„±
CREATE TABLE regional_sales (
    region VARCHAR(50),
    sales_date DATE,
    sales_amount INT
);

-- ë°ì´í„° ì‚½ì…
INSERT INTO regional_sales (region, sales_date, sales_amount) VALUES
('Seoul', '2024-01-01', 100),
('Seoul', '2024-01-05', 150),
('Seoul', '2024-01-10', 220),
('Busan', '2024-01-03', 80),
('Busan', '2024-01-07', 120),
('Busan', '2024-01-15', 180),
('Daegu', '2024-01-02', 90),
('Daegu', '2024-01-08', 110),
('Daegu', '2024-01-20', 160),
('Incheon', '2024-01-04', 70),
('Incheon', '2024-01-12', 130),
('Incheon', '2024-01-25', 200),
('Seoul', '2024-02-01', 250),
('Busan', '2024-02-10', 190),
('Seoul', '2023-12-25', 180),
('Daegu', '2023-12-30', 100);

SELECT region, MAX(sales_amount) as max_sales
FROM (
    SELECT region, sales_date, sales_amount
    FROM regional_sales
    WHERE sales_date BETWEEN '2024-01-01' AND '2024-01-31'
) AS monthly_data
GROUP BY region;
```

## 3. LEFT JOIN - ì™¼ìª½ í…Œì´ë¸” ê¸°ì¤€ í•©ì¹˜ê¸°

### 3.1 ê°œë… ì„¤ëª…
ì™¼ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì„ ìœ ì§€í•˜ë©´ì„œ ì˜¤ë¥¸ìª½ í…Œì´ë¸”ê³¼ ë§¤ì¹­í•©ë‹ˆë‹¤. ë§¤ì¹­ë˜ì§€ ì•Šìœ¼ë©´ NULLë¡œ í‘œì‹œë©ë‹ˆë‹¤.

### 3.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- date_list í…Œì´ë¸” ìƒì„±
CREATE TABLE date_list (
    date_value DATE PRIMARY KEY
);

-- sales í…Œì´ë¸”ì— ìˆëŠ” ë‚ ì§œ ë° í•„ìš”í•œ ë‚ ì§œ ì§ì ‘ ì…ë ¥
INSERT INTO date_list (date_value) VALUES
('2024-01-01'),
('2024-01-02'),
('2024-01-03'),
('2024-01-04'),
('2024-01-05'),
('2024-01-06'),
('2024-01-07');

-- ëª¨ë“  ë‚ ì§œì™€ í•´ë‹¹ íŒë§¤ëŸ‰ ë³´ê¸° (íŒë§¤ê°€ ì—†ëŠ” ë‚ ë„ í¬í•¨)
SELECT d.date_value, s.sales_amount
FROM date_list d  -- ì™¼ìª½ í…Œì´ë¸” (ëª¨ë“  ë‚ ì§œ)
LEFT JOIN sales s ON d.date_value = s.sales_date;  -- ì˜¤ë¥¸ìª½ í…Œì´ë¸” (íŒë§¤ ë°ì´í„°)
```

## 4. INNER JOIN - ì–‘ìª½ ëª¨ë‘ ìˆëŠ” ë°ì´í„°ë§Œ

### 4.1 ê°œë… ì„¤ëª…
ì–‘ìª½ í…Œì´ë¸” ëª¨ë‘ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë§Œ ê²°ê³¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

### 4.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- ì‹¤ì œ íŒë§¤ê°€ ë°œìƒí•œ ë‚ ì§œë§Œ ë³´ê¸°
SELECT d.date_value, s.sales_amount
FROM date_list d
INNER JOIN sales s ON d.date_value = s.sales_date;
```

## 5. CTE (Common Table Expression) - ê¹”ë”í•œ ì„ì‹œ í…Œì´ë¸”

### 5.1 ê°œë… ì„¤ëª…
* ì¿¼ë¦¬ ìƒë‹¨ì— ì„ì‹œ í…Œì´ë¸”ì„ ë¯¸ë¦¬ ì •ì˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì„œë¸Œì¿¼ë¦¬ë³´ë‹¤ ì½ê¸° ì‰½ê³  ê´€ë¦¬í•˜ê¸° í¸í•©ë‹ˆë‹¤.
* CTEëŠ” WITH ì ˆë¡œ ì‹œì‘í•˜ë©°, ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ê°œì˜ ì‘ì€, ëª…ëª…ëœ "ì„ì‹œ ì¿¼ë¦¬ ë¸”ë¡"ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ê° ë¸”ë¡ì€ ë§ˆì¹˜ ë…ë¦½ì ì¸ í…Œì´ë¸”ì²˜ëŸ¼ ë‹¤ë¥¸ ë¸”ë¡ì—ì„œ ì°¸ì¡°ë  ìˆ˜ ìˆì–´, ì¿¼ë¦¬ì˜ ë…¼ë¦¬ë¥¼ ë‹¨ê³„ë³„ë¡œ í‘œí˜„í•˜ê³  ê°€ë…ì„± ë° ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ëŠ” ë° í¬ê²Œ ê¸°ì—¬í•©ë‹ˆë‹¤.

### 5.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- 1) ë‹¨ì¼ CTE: ë†’ì€ íŒë§¤ì•¡ ì¡°íšŒ
WITH high_sales AS (
    SELECT sales_date, sales_amount
    FROM sales
    WHERE sales_amount > 1900
)
SELECT * FROM high_sales
ORDER BY sales_date;

-- 2) ì—¬ëŸ¬ CTE: ì²´ì¸ ë°©ì‹ìœ¼ë¡œ ì—°ê²°
WITH high_sales AS (
    SELECT sales_date, sales_amount
    FROM sales
    WHERE sales_amount > 2000
),
recent_high_sales AS (
    SELECT sales_date, sales_amount
    FROM high_sales
    WHERE sales_date >= '2024-01-03'  -- ë‚ ì§œë¡œ í•„í„°ë§
)
SELECT * FROM recent_high_sales
ORDER BY sales_date;

-- 3) ì—¬ëŸ¬ CTE: ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©
WITH 
-- ì²« ë²ˆì§¸ CTE: ì›”ë³„ í‰ê·  ê³„ì‚°
monthly_avg AS (
    SELECT AVG(sales_amount) as avg_amount
    FROM sales
    WHERE sales_amount IS NOT NULL
),
-- ë‘ ë²ˆì§¸ CTE: í‰ê·  ì´ìƒ íŒë§¤ ì¡°íšŒ
above_average AS (
    SELECT s.sales_date, s.sales_amount
    FROM sales s
    CROSS JOIN monthly_avg m  -- ëª…ì‹œì  ì¡°ì¸ ì‚¬ìš©
    WHERE s.sales_amount > m.avg_amount
)
SELECT * FROM above_average
ORDER BY sales_date;

-- 4) ì‹¤ìš©ì ì¸ ì—¬ëŸ¬ CTE ì˜ˆì œ
WITH 
-- ì§€ì—­ë³„ í‰ê·  íŒë§¤ì•¡
regional_avg AS (
    SELECT region, AVG(sales_amount) as region_avg
    FROM regional_sales
    WHERE sales_amount IS NOT NULL
    GROUP BY region
),
-- í‰ê· ë³´ë‹¤ ë†’ì€ íŒë§¤ ê¸°ë¡
above_regional_avg AS (
    SELECT r.region, r.sales_date, r.sales_amount, a.region_avg
    FROM regional_sales r
    JOIN regional_avg a ON r.region = a.region
    WHERE r.sales_amount > a.region_avg
)
SELECT region, sales_date, sales_amount, region_avg
FROM above_regional_avg
ORDER BY region, sales_date;

-- 5) CTEì™€ ì£¼ì¿¼ë¦¬ì—ì„œì˜ ì¶”ê°€ ê³„ì‚°
WITH sales_summary AS (
    SELECT 
        sales_date,
        SUM(sales_amount) as daily_total,
        COUNT(*) as transaction_count
    FROM sales
    WHERE sales_amount IS NOT NULL
    GROUP BY sales_date
)
SELECT 
    sales_date,
    daily_total,
    transaction_count,
    daily_total / transaction_count as avg_per_transaction
FROM sales_summary
WHERE daily_total > 1000
ORDER BY sales_date;
```

## 6. ì¬ê·€ì  CTE - ë°˜ë³µ ì‘ì—… ìë™í™”

### 6.1 ê°œë… ì„¤ëª…
ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ì—¬ ë°˜ë³µì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë‚ ì§œ ì‹œë¦¬ì¦ˆ ìƒì„±ì´ë‚˜ ê³„ì¸µ êµ¬ì¡° íƒìƒ‰ì— ìœ ìš©í•©ë‹ˆë‹¤.

### 6.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- 1ì¼ë¶€í„° 10ì¼ê¹Œì§€ ë‚ ì§œ ì‹œë¦¬ì¦ˆ ìƒì„±
WITH RECURSIVE date_series AS (
    -- ê¸°ë³¸ ì¼€ì´ìŠ¤: ì‹œì‘ì 
    SELECT 1 as day_number
    
    UNION ALL
    
    -- ì¬ê·€ ì¼€ì´ìŠ¤: ë°˜ë³µ ê·œì¹™
    SELECT day_number + 1
    FROM date_series
    WHERE day_number < 10
)
SELECT * FROM date_series;

-- ì‹¤ì œ ë‚ ì§œë¡œ ìƒì„±í•˜ê¸°
WITH RECURSIVE date_range AS (
    SELECT CAST('2024-01-01' AS DATE) as date_value
    
    UNION ALL
    
    SELECT date_value + INTERVAL 1 DAY
    FROM date_range
    WHERE date_value < '2024-01-10'
)
SELECT * FROM date_range;
```

## 7. ë‚ ì§œ í‘œí˜„ì‹ - ë‚ ì§œ ê³„ì‚°í•˜ê¸°

### 7.1 ê°œë… ì„¤ëª…
ë‚ ì§œì— ëŒ€í•œ ë”í•˜ê¸°, ë¹¼ê¸° ë“±ì˜ ê³„ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### 7.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- ë‹¤ì–‘í•œ ë‚ ì§œ ê³„ì‚°
SELECT 
    CURRENT_DATE as today,
    CURRENT_DATE + INTERVAL 1 DAY as tomorrow,
    CURRENT_DATE - INTERVAL 1 WEEK as last_week,
    CURRENT_DATE + INTERVAL 1 MONTH as next_month;

-- íŒë§¤ ë°ì´í„°ì— ë‚ ì§œ ê³„ì‚° ì ìš©
SELECT 
    sales_date,
    sales_amount,
    sales_date + INTERVAL 7 DAY as next_week_date
FROM sales;
```

## 8. CAST - ë°ì´í„° íƒ€ì… ë³€í™˜

### 8.1 ê°œë… ì„¤ëª…
ë¬¸ìì—´ì„ ë‚ ì§œë¡œ, ìˆ«ìë¥¼ ë¬¸ìì—´ë¡œ ë“± ë°ì´í„° íƒ€ì…ì„ ë³€í™˜í•©ë‹ˆë‹¤.

### 8.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- ë¬¸ìì—´ì„ ë‚ ì§œë¡œ ë³€í™˜
SELECT 
    CAST('2024-01-15' AS DATE) as converted_date,
    CAST('1.2345' AS DECIMAL(10,2)) as converted_number;

-- ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ
WITH date_strings AS (
    SELECT '2024-01-01' as date_str, 100 as amount
    UNION ALL
    SELECT '2024-01-02', 150
    UNION ALL  
    SELECT '2024-01-03', 200
)
SELECT 
    CAST(date_str AS DATE) as proper_date,
    amount,
    CAST(date_str AS DATE) + INTERVAL 1 DAY as next_day
FROM date_strings;
```

## 9. COALESCE - NULL ê°’ ëŒ€ì²´í•˜ê¸°

### 9.1 ê°œë… ì„¤ëª…
NULL ê°’ì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤. ì—¬ëŸ¬ ê°’ ì¤‘ì—ì„œ ì²« ë²ˆì§¸ë¡œ NULLì´ ì•„ë‹Œ ê°’ì„ ì„ íƒí•©ë‹ˆë‹¤.
* COALESCE(ê°’1, ê°’2, ...) â†’ ê°’1ì´ NULLì´ë©´ ê°’2 í™•ì¸ â†’ ... ìˆœì„œ

### 9.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- NULLì„ 0ìœ¼ë¡œ ë°”ê¾¸ê¸°
SELECT 
    sales_date,
    COALESCE(sales_amount, 0) as sales_amount_filled
FROM sales;

-- customers í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° ì¶”ê°€
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_name VARCHAR(50) NOT NULL,
    mobile_phone VARCHAR(20),
    home_phone VARCHAR(20),
    office_phone VARCHAR(20)
);

INSERT INTO customers (customer_name, mobile_phone, home_phone, office_phone) VALUES
('ê¹€ì² ìˆ˜', '010-1111-2222', NULL, '02-123-4567'),
('ì´ì˜í¬', NULL, '031-987-6543', NULL),
('ë°•ë¯¼ìˆ˜', NULL, NULL, NULL),
('ì •ìˆ˜ì§„', '010-5555-6666', '032-111-2222', '02-987-6543');

-- ì—¬ëŸ¬ ì»¬ëŸ¼ ì¤‘ ì²« ë²ˆì§¸ NULLì´ ì•„ë‹Œ ê°’ ì„ íƒ
SELECT 
    customer_id,
    COALESCE(mobile_phone, home_phone, office_phone, 'No Phone') as contact_phone
FROM customers;

-- í‰ê· ê°’ìœ¼ë¡œ NULL ì±„ìš°ê¸°
WITH avg_sales AS (
    SELECT AVG(sales_amount) as avg_amount
    FROM sales
    WHERE sales_amount IS NOT NULL
)
SELECT 
    s.sales_date,
    COALESCE(s.sales_amount, a.avg_amount) as filled_amount
FROM sales s, avg_sales a;
```

## 10. ROUND - ìˆ«ì ë°˜ì˜¬ë¦¼

### 10.1 ê°œë… ì„¤ëª…
ìˆ«ìë¥¼ ì§€ì •í•œ ì†Œìˆ˜ì  ìë¦¬ê¹Œì§€ ë°˜ì˜¬ë¦¼í•©ë‹ˆë‹¤.

### 10.2 ìƒ˜í”Œ ì½”ë“œ
```sql
-- ë‹¤ì–‘í•œ ë°˜ì˜¬ë¦¼ ì˜ˆì œ
SELECT 
    sales_amount,
    ROUND(sales_amount) as rounded_to_integer,
    ROUND(sales_amount * 1.5, 2) as rounded_to_2_decimal,
    ROUND(sales_amount, -1) as rounded_to_tens
FROM sales;

-- ì‹¤ìš© ì˜ˆì œ: í‰ê·  ê³„ì‚° í›„ ë°˜ì˜¬ë¦¼
-- OVER () ì—†ì´ SELECT AVG(sales_amount) FROM sales;ë§Œ ì‹¤í–‰í•˜ë©´, ë‹¨ì¼ í–‰ìœ¼ë¡œ ì „ì²´ í‰ê·  ê°’ë§Œ ë°˜í™˜. 
-- í•˜ì§€ë§Œ OVER()ë¥¼ ì‚¬ìš©í•˜ë©´ ì›ë³¸ ë°ì´í„°ì˜ ê°œë³„ í–‰ì„ ìœ ì§€í•˜ë©´ì„œ, ê° í–‰ì— ì „ì²´ í‰ê·  ê°’ì„ í‘œì‹œ
SELECT 
    sales_date,
    sales_amount,
    ROUND(AVG(sales_amount) OVER (), 2) as rounded_avg -- OVER():ìœˆë„ìš° í•¨ìˆ˜ì§€ì •
FROM sales;
```

## 11. ìœˆë„ìš° í•¨ìˆ˜ - OVER ()

### 11.1 ê°œë… ì„¤ëª…
íŠ¹ì • í–‰ ì§‘í•©(ìœˆë„ìš°) ë‚´ì—ì„œ ê³„ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. GROUP BYì™€ ë‹¬ë¦¬ ì›ë³¸ í–‰ì„ ìœ ì§€í•©ë‹ˆë‹¤.
- OVER() ê´„í˜¸ ì•ˆì— ì•„ë¬´ê²ƒë„ ì—†ê¸° ë•Œë¬¸ì—, í…Œì´ë¸” **ì „ì²´ í–‰ì„ í•˜ë‚˜ì˜ ìœˆë„ìš°(ì „ì²´ ë²”ìœ„)**ë¡œ ì§€ì •

### 11.2 ROW_NUMBER() - í–‰ ë²ˆí˜¸ ë§¤ê¸°ê¸°
```sql
-- íŒë§¤ëŸ‰ ìˆœìœ¼ë¡œ ìˆœìœ„ ë§¤ê¸°ê¸°
SELECT 
    sales_date,
    sales_amount,
    ROW_NUMBER() OVER (ORDER BY sales_amount DESC) as rank
FROM sales;
```

### 11.3 LAG() - ì´ì „ í–‰ ê°’ ê°€ì ¸ì˜¤ê¸°
```sql
-- ì´ì „ ë‚ ì§œì˜ íŒë§¤ëŸ‰ê³¼ ë¹„êµ
SELECT 
    sales_date,
    sales_amount,
    LAG(sales_amount) OVER (ORDER BY sales_date) as prev_day_sales,
    sales_amount - LAG(sales_amount) OVER (ORDER BY sales_date) as difference
FROM sales;
```

### 11.4 LEAD() - ë‹¤ìŒ í–‰ ê°’ ê°€ì ¸ì˜¤ê¸°
```sql
-- ë‹¤ìŒ ë‚ ì§œì˜ íŒë§¤ëŸ‰ ë¯¸ë¦¬ë³´ê¸°
SELECT 
    sales_date,
    sales_amount,
    LEAD(sales_amount) OVER (ORDER BY sales_date) as next_day_sales
FROM sales;
```

## 12. ì‹¤ì „ ì¢…í•© ì˜ˆì œ - ëˆ„ë½ëœ íŒë§¤ ë°ì´í„° ì¶”ì •

ì•„ë˜ëŠ” ëª¨ë“  ê°œë…ì„ í™œìš©í•˜ì—¬ ëˆ„ë½ëœ íŒë§¤ ë°ì´í„°ë¥¼ ì¶”ì •í•˜ëŠ” ì™„ì „í•œ ì¿¼ë¦¬ì…ë‹ˆë‹¤.

```sql
-- 1ë‹¨ê³„: ì „ì²´ ë‚ ì§œ ì‹œë¦¬ì¦ˆ ìƒì„±
WITH RECURSIVE date_series AS (
    SELECT 1 as day_num
    UNION ALL
    SELECT day_num + 1 
    FROM date_series 
    WHERE day_num < 10
),

-- 2ë‹¨ê³„: ì‹¤ì œ íŒë§¤ ë°ì´í„°ì™€ í•©ì¹˜ê¸°
sales_with_gaps AS (
    SELECT 
        d.day_num as sales_date,
        s.sales_amount
    FROM date_series d
    LEFT JOIN (
        SELECT 1 as sales_date, 100 as sales_amount
        UNION ALL SELECT 2, 150
        UNION ALL SELECT 4, 200  
        UNION ALL SELECT 5, 180
    ) s ON d.day_num = s.sales_date
),

-- 3ë‹¨ê³„: ì´ì „/ë‹¤ìŒ ê°’ìœ¼ë¡œ NULL ì¶”ì •
estimated_sales AS (
    SELECT 
        sales_date,
        sales_amount,
        LAG(sales_amount) OVER (ORDER BY sales_date) as prev_sales,
        LEAD(sales_amount) OVER (ORDER BY sales_date) as next_sales,
        -- NULLì¸ ê²½ìš° ì´ì „ê³¼ ë‹¤ìŒì˜ í‰ê· ìœ¼ë¡œ ì¶”ì •
        COALESCE(
            sales_amount, 
            ROUND((LAG(sales_amount) OVER (ORDER BY sales_date) + 
                   LEAD(sales_amount) OVER (ORDER BY sales_date)) / 2.0)
        ) as estimated_amount
    FROM sales_with_gaps
)

-- ìµœì¢… ê²°ê³¼
SELECT 
    sales_date,
    CASE 
        WHEN sales_amount IS NULL THEN estimated_amount 
        ELSE sales_amount 
    END as final_sales,
    CASE 
        WHEN sales_amount IS NULL THEN 'Estimated' 
        ELSE 'Actual' 
    END as data_type
FROM estimated_sales
ORDER BY sales_date;
```
```
NULL ì‚°ìˆ  ì—°ì‚°ì˜ ë²•ì¹™
NULL + ìˆ«ì = NULL
NULL / ìˆ«ì = NULL
NULLì´ ì—°ì‚°ì— í¬í•¨ë˜ë©´ ì „ì²´ ê²°ê³¼ëŠ” NULL
```

