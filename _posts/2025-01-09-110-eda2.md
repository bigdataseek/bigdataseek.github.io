---
title: 1ì°¨ì‹œ 11(ë¹…ë°ì´í„° ë¶„ì„):EDA (ì‹¤ìŠµ ì˜ˆì œ)
layout: single
classes: wide
categories:
  - EDA
toc: true # ì´ í¬ìŠ¤íŠ¸ì—ì„œ ëª©ì°¨ë¥¼ í™œì„±í™”
toc_sticky: true # ëª©ì°¨ë¥¼ ê³ ì •í• ì§€ ì—¬ë¶€ (ì„ íƒ ì‚¬í•­)
---

# 1. ì˜¨ë¼ì¸ ì¹´ì§€ë…¸ í”Œë ˆì´ì–´ ë°ì´í„° ë¶„ì„ ì…ë¬¸ ê°€ì´ë“œ

- ì¶œì²˜: [Exploratory Data Analysis In Python: Machine Learning Project Transactional Data](https://www.youtube.com/watch?v=Pi_OcqLzF64)

## 1. íƒìƒ‰ì  ë°ì´í„° ë¶„ì„(EDA)ì´ë€?

**íƒìƒ‰ì  ë°ì´í„° ë¶„ì„(Exploratory Data Analysis, EDA)**ì€ ë°ì´í„°ë¥¼ ì²˜ìŒ ë°›ì•˜ì„ ë•Œ "ì´ ë°ì´í„°ê°€ ì–´ë–¤ ëª¨ìŠµì¸ì§€, ì–´ë–¤ íŒ¨í„´ì´ ìˆëŠ”ì§€" ì•Œì•„ë³´ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ë§ˆì¹˜ ìƒˆë¡œìš´ ë™ë„¤ì— ì´ì‚¬í–ˆì„ ë•Œ ì£¼ë³€ì„ ë‘˜ëŸ¬ë³´ëŠ” ê²ƒ

* EDAì˜ ëª©ì 
  - ë°ì´í„°ì˜ êµ¬ì¡°ì™€ íŠ¹ì„± íŒŒì•…
  - ì´ìƒí•œ ê°’(ì˜¤ë¥˜, ê²°ì¸¡ê°’) ë°œê²¬
  - ìˆ¨ê²¨ì§„ íŒ¨í„´ê³¼ ì¸ì‚¬ì´íŠ¸ ë°œê²¬
  - ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ë§ì„ ìœ„í•œ ì¤€ë¹„

## 2. í•„ìš”í•œ ë„êµ¬ë“¤ (ë¼ì´ë¸ŒëŸ¬ë¦¬)

```python
import pandas as pd              # ë°ì´í„° ì²˜ë¦¬ì˜ í•µì‹¬ ë„êµ¬
import numpy as np               # ìˆ˜ì¹˜ ê³„ì‚°
import matplotlib.pyplot as plt  # ê¸°ë³¸ ê·¸ë˜í”„
import seaborn as sns           # ì˜ˆìœ ê·¸ë˜í”„

```

**ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì—­í• :**
- **Pandas**: ì—‘ì…€ ê°™ì€ í‘œ í˜•íƒœ ë°ì´í„° ì²˜ë¦¬
- **NumPy**: ìˆ˜í•™ì  ê³„ì‚°
- **Matplotlib**: ê¸°ë³¸ì ì¸ ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
- **Seaborn**: ë” ì˜ˆìœ í†µê³„ ê·¸ë˜í”„

## 3. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë° ì²« íƒìƒ‰

```python
# 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
df = pd.read_csv('casino_data.csv')

# 2. ë°ì´í„° ë‘˜ëŸ¬ë³´ê¸°
print("ğŸ“‹ ë°ì´í„° í¬ê¸°:", df.shape)  # (í–‰ ìˆ˜, ì—´ ìˆ˜)
print("\nğŸ‘€ ì²« 5í–‰ í™•ì¸:")
print(df.head())

# 3. ë°ì´í„° íƒ€ì… í™•ì¸
print("\nğŸ“ˆ ë°ì´í„° íƒ€ì…:")
print(df.dtypes)

# 4. ê¸°ë³¸ ì •ë³´ í™•ì¸
print("\nğŸ“Š ê¸°ë³¸ ì •ë³´:")
df.info()
```


- ì»¬ëŸ¼ëª… ìˆ˜ì •
```python
df.columns = ['request_time_UTC', 'transaction_type','transaction_amount','status','account_identifier']
```

- ì¤‘ìš”í•œ ë°ì´í„° ë³€í™˜: ë‚ ì§œ í˜•ì‹ ë§ì¶”ê¸°
```python
# ë‚ ì§œ ì»¬ëŸ¼ì´ ë¬¸ìì—´ë¡œ ë˜ì–´ ìˆìœ¼ë©´ ë‚ ì§œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
df['request_time_UTC'] = pd.to_datetime(df['request_time_UTC'])
```

```
request_time_UTC	transaction_type	transaction_amount	status	account_identifier
0	2019-07-05 05:02:28+00:00	LOYALTYCARDDEBIT	10.0	APPROVED	customer1734
1	2019-07-05 05:26:00+00:00	LOYALTYCARDDEBIT	10.0	APPROVED	customer1734
2	2019-07-05 04:54:35+00:00	LOYALTYCARDCREDITCL	10.0	APPROVED	customer1734
```


## 4. ë°ì´í„° ìš”ì•½ í†µê³„

```python
# ìˆ«ì ë°ì´í„° ìš”ì•½
print("ğŸ’° ê±°ë˜ ê¸ˆì•¡ í†µê³„:")
print(df['transaction_amount'].describe())

# ë²”ì£¼í˜• ë°ì´í„° í™•ì¸
print("\nğŸ” ê±°ë˜ ìœ í˜•ë³„ ê°œìˆ˜:")
print(df['transaction_type'].value_counts())

print("\nâœ… ìŠ¹ì¸ ìƒíƒœë³„ ê°œìˆ˜:")
print(df['status'].value_counts())

print("\nğŸ‘¥ ì´ ê³ ê° ìˆ˜:")
print(df['account_identifier'].nunique())
```

## 5. ë°ì´í„° ì •ë¦¬í•˜ê¸°

### 5.1 ê±°ë˜ ìœ í˜• ì´ë¦„ ë°”ê¾¸ê¸° (ì´í•´í•˜ê¸° ì‰½ê²Œ)

```python
# ë³µì¡í•œ ì´ë¦„ì„ ê°„ë‹¨í•˜ê²Œ ë°”ê¾¸ê¸°
# Transactions labeled as â€œLOYALTYCARDDEBITâ€ are Level 2 deposits. 
# Transactions labeled as â€œLOYALTYCARDCREDITâ€ are Level 2 withdrawals. 
# Transactions labeled as â€œLOYALTYCARDCREDITCLâ€ or â€œLOYALTYCARDCREDITACHâ€ are Level 1 deposits made via a card or ACH respectively. 

transaction_mapping = {
    'LOYALTYCARDDEBIT': 'L2 deposit',      # ë ˆë²¨2 ì…ê¸ˆ
    'LOYALTYCARDCREDIT': 'L2 withdrawal',   # ë ˆë²¨2 ì¶œê¸ˆ  
    'LOYALTYCARDCREDITCL': 'L1 deposit'     # ë ˆë²¨1 ì…ê¸ˆ
}

# map() í•¨ìˆ˜ëŠ” ì‹œë¦¬ì¦ˆì˜ ê° ìš”ì†Œì— í•¨ìˆ˜ë‚˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ì ìš©
df['transaction_type'] = df['transaction_type'].map(transaction_mapping)
print("ğŸ”„ ë³€ê²½ëœ ê±°ë˜ ìœ í˜•:")
print(df['transaction_type'].value_counts())
```

### 5.2 í•„ìš”í•œ ë°ì´í„°ë§Œ ì„ íƒí•˜ê¸°
```python
# ìŠ¹ì¸ëœ L2 ì…ê¸ˆ ê±°ë˜ë§Œ ë¶„ì„ (ì˜ˆì‹œ)
filtered_df = df[(df['status'] == 'Approved') & 
                 (df['transaction_type'] == 'L2 deposit')]

print(f"ğŸ“ í•„í„°ë§ ê²°ê³¼: {len(filtered_df)}ê±´ì˜ ë°ì´í„°")
```

## 6. ê³ ê° í™œë™ ì‹œê°í™”

### 6.1 ê³ ê°ë³„ ê±°ë˜ íšŸìˆ˜ ë¶„ì„
```python
# ê³ ê°ë³„ ì´ ê±°ë˜ ìˆ˜ ê³„ì‚°
customer_transactions = df.groupby('account_identifier').size().reset_index()
customer_transactions.columns = ['customer_id', 'total_transactions']

# íˆìŠ¤í† ê·¸ë¨ìœ¼ë¡œ ë¶„í¬ í™•ì¸
plt.figure(figsize=(10, 6))
plt.hist(customer_transactions['total_transactions'], bins=50, alpha=0.7)
plt.title('ê³ ê°ë³„ ì´ ê±°ë˜ íšŸìˆ˜ ë¶„í¬')
plt.xlabel('ê±°ë˜ íšŸìˆ˜')
plt.ylabel('ê³ ê° ìˆ˜')
plt.show()
```

### 6.2 ê±°ë˜ ìœ í˜•ë³„ ë¶„í¬
```python
plt.figure(figsize=(12, 6))
sns.histplot(data=df, x='transaction_amount', hue='transaction_type', 
             bins=30, alpha=0.6)
plt.title('ê±°ë˜ ìœ í˜•ë³„ ê¸ˆì•¡ ë¶„í¬')
plt.xlabel('ê±°ë˜ ê¸ˆì•¡')
plt.ylabel('ë¹ˆë„')
plt.show()
```

### 6.3 VIP ê³ ê° ì°¾ê¸°
```python
# ê°€ì¥ ìì£¼ ê±°ë˜í•˜ëŠ” ìƒìœ„ 20ëª…
top_frequent = df.groupby('account_identifier').size().sort_values(ascending=False).head(20)

# ê°€ì¥ ë§ì´ ëˆì„ ì“´ ìƒìœ„ 20ëª…  
top_spenders = df.groupby('account_identifier')['transaction_amount'].sum().sort_values(ascending=False).head(20)

# ë‚˜ë€íˆ ë¹„êµ ì‹œê°í™”
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 6))

top_frequent.plot(kind='bar', ax=ax1, color='skyblue')
ax1.set_title('ê±°ë˜ íšŸìˆ˜ Top 20')
ax1.set_ylabel('ê±°ë˜ íšŸìˆ˜')
# ax1 ê·¸ë˜í”„ì˜ ì²« ë²ˆì§¸ ë§‰ëŒ€ ê·¸ë£¹(ì»¨í…Œì´ë„ˆ)ì„ ê°€ë¦¬í‚µ
ax1.bar_label(ax1.containers[0], fmt='%d', padding=5)  # ë§‰ëŒ€ ìœ„ì— ìˆ«ì í‘œì‹œ

top_spenders.plot(kind='bar', ax=ax2)
ax2.set_title('ê±°ë˜ ê¸ˆì•¡ Top 20')  
ax2.set_ylabel('ì´ ê±°ë˜ ê¸ˆì•¡')

plt.tight_layout()
plt.show()
```

## 7. ì‹œê°„ íŒ¨í„´ ë¶„ì„

### 7.1 ì‹œê°„ ì •ë³´ ì¶”ì¶œ
```python
# ë‚ ì§œì—ì„œ ì—¬ëŸ¬ ì •ë³´ ì¶”ì¶œ
df['year'] = df['request_time_UTC'].dt.year
df['month'] = df['request_time_UTC'].dt.month  
df['day'] = df['request_time_UTC'].dt.day
df['hour'] = df['request_time_UTC'].dt.hour
df['weekday'] = df['request_time_UTC'].dt.day_name()  # ìš”ì¼ ì´ë¦„

print("ğŸ“… ì¶”ì¶œëœ ì‹œê°„ ì •ë³´:")
print(df[['request_time_UTC', 'year', 'month', 'day', 'hour', 'weekday']].head())
```

### 7.2 í™œë™ ì‹œê°„ëŒ€ íˆíŠ¸ë§µ
```python
# ì‹œê°„ëŒ€ë³„, ìš”ì¼ë³„ í™œë™ íŒ¨í„´
activity_pattern = df.groupby(['weekday', 'hour']).size().reset_index()
activity_pattern.columns = ['weekday', 'hour', 'transaction_count']

# íˆíŠ¸ë§µìš© ë°ì´í„° ë³€í™˜
# pivot()ì€ DataFrameì—ì„œë§Œ ì‚¬ìš©(í–‰,ì—´,ê°’)
heatmap_data = activity_pattern.pivot(index='weekday', columns='hour', values='transaction_count')

# ìš”ì¼ ìˆœì„œ ì •ë ¬
weekday_order = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
heatmap_data = heatmap_data.reindex(weekday_order)

# íˆíŠ¸ë§µ ê·¸ë¦¬ê¸°
plt.figure(figsize=(15, 8))
#g:í‘œì‹œë˜ëŠ” ìˆ«ìì˜ í˜•ì‹ì„ ì¼ë°˜ í˜•ì‹ìœ¼ë¡œ ì„¤ì • (ë¶ˆí•„ìš”í•œ 0 ì œê±°)
#'YlOrRd': yello, orange, red
sns.heatmap(heatmap_data, annot=True, fmt='g', cmap='YlOrRd')
plt.title('ì‹œê°„ëŒ€ë³„, ìš”ì¼ë³„ ê±°ë˜ í™œë™ íˆíŠ¸ë§µ')
plt.xlabel('ì‹œê°„ (24ì‹œê°„)')
plt.ylabel('ìš”ì¼')
plt.show()
```


## 8. ê³ ê° ìƒì• ì£¼ê¸° ë¶„ì„

### 8.1 ì›”ë³„ ê³ ê° í™œë™ ì¶”ì 
```python
# ê° ê³ ê°ì˜ ì²« ê±°ë˜ì™€ ë§ˆì§€ë§‰ ê±°ë˜ ì›” ì°¾ê¸°
customer_lifecycle = df.groupby('account_identifier')['request_time_UTC'].agg(['min', 'max']).reset_index()
customer_lifecycle['start_month'] = customer_lifecycle['min'].dt.to_period('M')
customer_lifecycle['end_month'] = customer_lifecycle['max'].dt.to_period('M')

# "ë¹ ë¥¸ ì´íƒˆì" (í•œ ë‹¬ë§Œ í™œë™) ì‹ë³„
customer_lifecycle['is_fast_quitter'] = (customer_lifecycle['start_month'] == customer_lifecycle['end_month'])

print("ğŸƒâ€â™‚ï¸ ë¹ ë¥¸ ì´íƒˆì ë¹„ìœ¨:", customer_lifecycle['is_fast_quitter'].mean() * 100, "%")
```

### 8.2 ì›”ë³„ ê³ ê° ìˆ˜ ë³€í™”
```python
# ì›”ë³„ ì „ì²´ ê³ ê° ìˆ˜ì™€ ì´íƒˆ ê³ ê° ìˆ˜
monthly_stats = customer_lifecycle.groupby('start_month').agg({
    'account_identifier': 'count',  # ì „ì²´ ì‹ ê·œ ê³ ê°
    'is_fast_quitter': 'sum'        # ë¹ ë¥¸ ì´íƒˆì ìˆ˜
}).reset_index()

monthly_stats.columns = ['month', 'total_customers', 'fast_quitters']

# ë§‰ëŒ€ ì°¨íŠ¸ë¡œ ë¹„êµ
# melt(): ì—¬ëŸ¬ ê°œì˜ ì—´(column)ì„ í•˜ë‚˜ì˜ ì—´ë¡œ ë…¹ì—¬ì„œ(melt), í–‰(row)ì˜ ìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” ë°©ì‹
monthly_stats_melted = monthly_stats.melt(
          id_vars=['month'], # ì›” ì •ë³´ ìœ ì§€
          value_vars=['total_customers', 'fast_quitters'],# ë³€í™˜í•  ì—´ë“¤
          var_name='customer_type', # ìƒˆë¡œìš´ ë³€ìˆ˜ ì´ë¦„ ì—´
          value_name='count' # ìƒˆë¡œìš´ ê°’ ì—´
          )
# value_vars=['total_customers', 'fast_quitters'] â†’ ë‘ ì»¬ëŸ¼ì„ í•œ ì»¬ëŸ¼(customer_type)ìœ¼ë¡œ ë³‘í•©
# value_name='count' â†’ ì‹¤ì œ ê°’ì€ count ì»¬ëŸ¼ì— ì €ì¥

plt.figure(figsize=(12, 6))
ax = sns.barplot(data=monthly_stats_melted, x='month',y='count',hue='customer_type')
# ê° barì— ë ˆì´ë¸” ì¶”ê°€
for container in ax.containers:
  ax.bar_label(container, fmt='%.0f', padding=3)

plt.title('ì›”ë³„ ì‹ ê·œ ê³ ê° vs ë¹ ë¥¸ ì´íƒˆ ê³ ê°')
plt.xticks(rotation=45)
plt.ylabel('ê³ ê° ìˆ˜')
plt.show()
```

## 9. ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸

### 9.1 ë°œê²¬í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ë“¤:
- **ì‹œê°„ íŒ¨í„´**: ì–¸ì œ ê³ ê°ë“¤ì´ ê°€ì¥ í™œë°œí•œê°€?
- **ê³ ê° ì„¸ë¶„í™”**: ìì£¼ ê±°ë˜í•˜ëŠ” ê³ ê° vs í° ê¸ˆì•¡ ê±°ë˜í•˜ëŠ” ê³ ê°
- **ì´íƒˆ íŒ¨í„´**: ì–´ë–¤ ê³ ê°ë“¤ì´ ë¹¨ë¦¬ ë– ë‚˜ëŠ”ê°€?

### 9.2 ë‹¤ìŒ ë‹¨ê³„ ë¨¸ì‹ ëŸ¬ë‹ í™œìš©:
```python
# ì˜ˆì‹œ: ê³ ê° ì„¸ë¶„í™”ë¥¼ ìœ„í•œ íŠ¹ì„± ìƒì„±
customer_features = df.groupby('account_identifier').agg({
    'transaction_amount': ['sum', 'mean', 'count'],  # ì´ì•¡, í‰ê· , íšŸìˆ˜
    'hour': 'mean',  # í‰ê·  ê±°ë˜ ì‹œê°„
}).reset_index()

customer_features.columns = ['customer_id', 'total_amount', 'avg_amount', 'frequency', 'avg_hour']

print("ğŸ¯ ë¨¸ì‹ ëŸ¬ë‹ì„ ìœ„í•œ ê³ ê° íŠ¹ì„±:")
print(customer_features.head())
```

## 10. í•µì‹¬ ìš”ì•½

1. **EDAëŠ” ë°ì´í„° íƒì • ë†€ì´**: ë°ì´í„° ì† ìˆ¨ê²¨ì§„ ì´ì•¼ê¸°ë¥¼ ì°¾ì•„ë‚´ëŠ” ê³¼ì •
2. **ì‹œê°í™”ê°€ í•µì‹¬**: ìˆ«ìë³´ë‹¤ëŠ” ê·¸ë˜í”„ë¡œ íŒ¨í„´ì„ íŒŒì•…
3. **ë‹¨ê³„ì  ì ‘ê·¼**: ì „ì²´ â†’ ë¶€ë¶„ â†’ ì„¸ë¶€ì‚¬í•­ ìˆœìœ¼ë¡œ ë¶„ì„
4. **ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì  ìœ ì§€**: ê¸°ìˆ ì  ë¶„ì„ì„ ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì‚¬ê²°ì •ìœ¼ë¡œ ì—°ê²°

* **ë‹¤ìŒ ë‹¨ê³„**
  - **ê³ ê° ì„¸ë¶„í™” (í´ëŸ¬ìŠ¤í„°ë§)**: ë¹„ìŠ·í•œ í–‰ë™ íŒ¨í„´ì˜ ê³ ê° ê·¸ë£¹ ì°¾ê¸°  
  - **ì´íƒˆ ì˜ˆì¸¡ ëª¨ë¸**: ì–´ë–¤ ê³ ê°ì´ ë– ë‚  í™•ë¥ ì´ ë†’ì€ì§€ ì˜ˆì¸¡
  - **ì¶”ì²œ ì‹œìŠ¤í…œ**: ê°œì¸í™”ëœ ì„œë¹„ìŠ¤ ì œê³µ

---

# 2. ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ì „ë ¥ ì†Œë¹„ëŸ‰ ë°ì´í„° ë¶„ì„

íƒìƒ‰ì  ë°ì´í„° ë¶„ì„(EDA)ì€ ë°ì´í„°ë¥¼ ê¹Šì´ íŒŒê³ ë“¤ì–´ ìˆ¨ê²¨ì§„ íŒ¨í„´, íŠ¹ì´ì , ê´€ê³„ë¥¼ ì°¾ì•„ë‚´ëŠ” ê³¼ì •ì´ì—ìš”. í¬ë¥´íˆ¬ê°ˆ ê±´ë¬¼ì˜ ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì—ì„œ ìˆ˜ì§‘ëœ ì‹¤ì œ ì „ë ¥ ì†Œë¹„ëŸ‰ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì´ ê³¼ì •ì„ ìì„¸íˆ ì„¤ëª…í•œë‹¤.

- ì¶œì²˜:[Exploratory Data Analysis For Time Series: Machine Learning Project Energy Consumption Data](https://www.youtube.com/watch?v=jCYjcEaNfzc)

## 1. ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ì „ë ¥ ì†Œë¹„ëŸ‰ ë°ì´í„° ë¶„ì„: í•µì‹¬ ìš”ì•½

ìš°ë¦¬ê°€ ë¶„ì„í•  ë°ì´í„°ëŠ” í¬ë¥´íˆ¬ê°ˆ ê±´ë¬¼ì— ì„¤ì¹˜ëœ ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì—ì„œ 15ë¶„ ê°„ê²©ìœ¼ë¡œ ìˆ˜ì§‘ëœ ì „ë ¥ ì†Œë¹„ëŸ‰ ë°ì´í„°ì˜ˆìš”. ì‰½ê²Œ ë§í•´, ê±´ë¬¼ì˜ ì „ê¸° ì‚¬ìš©ëŸ‰ì„ 15ë¶„ë§ˆë‹¤ ê¸°ë¡í•œ ê±°ì£ . ì´ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì–´ë–¤ ë¶„ì„ì„ í–ˆê³  ì–´ë–¤ ì ì„ ì•Œì•„ëƒˆëŠ”ì§€ ì‚´í´ë³¼ê¹Œìš”?

### 1.1 ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë° ì²«ì¸ìƒ í™•ì¸

  * **ë°ì´í„°ëŠ” ì–´ë–»ê²Œ ìƒê²¼ì„ê¹Œ?**
      * `pandas` ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `read_csv` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ì–´ìš”. ë§ˆì¹˜ ì—‘ì…€ íŒŒì¼ì„ ì—´ì–´ë³´ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•´ìš”.
      * ë°ì´í„°ë¥¼ ì‚´í´ë³´ë‹ˆ ì•½ 46,000ê°œì˜ í–‰(ì‹œê°„ë³„ ì¸¡ì •ê°’)ê³¼ 173ê°œì˜ ì—´(ì‹œê°„ ì •ë³´ 1ê°œ + ìŠ¤ë§ˆíŠ¸ ë¯¸í„° 172ê°œ)ë¡œ ì´ë£¨ì–´ì ¸ ìˆì—ˆì–´ìš”.
      * `Time`ì´ë¼ëŠ” ì—´ì€ ì¸¡ì • ì‹œê°ì„, `energy meter 1`ë¶€í„° `172`ê¹Œì§€ì˜ ì—´ì€ ê° ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì˜ ì „ë ¥ ì†Œë¹„ëŸ‰ì„ ë‚˜íƒ€ë‚´ìš”.
  
    ```python
    import pandas as pd
    import numpy as np
    import matplotlib.pyplot as plt
    import seaborn as sns
    from sklearn.preprocessing import StandardScaler

    # --- 1. ë°ì´í„° ë¡œë“œ ë° ì´ˆê¸° í™•ì¸ ---
    print("--- 1. ë°ì´í„° ë¡œë“œ ë° ì´ˆê¸° í™•ì¸ ---")
    df = pd.read_csv('your_energy_data.csv')
    print(f"ë°ì´í„°ì…‹ í¬ê¸°: {df.shape}")
    print("\nì´ˆê¸° ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°:")
    print(df.head())
    print("\në°ì´í„° íƒ€ì… í™•ì¸:")
    print(df.info())
    ```

    ```
    	Time	Energy_Meter_1	Energy_Meter_2	Energy_Meter_3	Energy_Meter_4	Energy_Meter_5	Energy_Meter_6	Energy_Meter_7	Energy_Meter_8	Energy_Meter_9	...	
0	2022-05-05 12:00:00	0.068	NaN	0.034	0.038	0.000	NaN	NaN	NaN	NaN	...	
1	2022-05-05 12:15:00	0.070	NaN	0.044	0.062	0.006	NaN	NaN	NaN	NaN	...	
2	2022-05-05 12:30:00	0.122	NaN	0.037	0.045	0.000	NaN	NaN	NaN	NaN
    ```
    
  * **ë°ì´í„° íƒ€ì…ì€ ê´œì°®ì„ê¹Œ?**
      * ì „ë ¥ ì†Œë¹„ëŸ‰ ë°ì´í„°ëŠ” `float64`ë¼ëŠ” ìˆ«ì íƒ€ì…ì´ë¼ ê´œì°®ì•˜ì§€ë§Œ, `Time` ì—´ì€ `object` (ë¬¸ìì—´) íƒ€ì…ì´ì—ˆì–´ìš”. ì‹œê°„ì„ ê°€ì§€ê³  ë¶„ì„í•˜ë ¤ë©´ `datetime`ì´ë¼ëŠ” ì‹œê°„ ì „ìš© íƒ€ì…ìœ¼ë¡œ ë°”ê¿”ì¤˜ì•¼ í•´ìš”.

### 1.2 ì‹œê°„ ë°ì´í„° ë³€í™˜

  * `pandas`ì˜ `to_datetime` í•¨ìˆ˜ë¥¼ ì¨ì„œ `Time` ì—´ì„ `datetime` íƒ€ì…ìœ¼ë¡œ ë°”ê¿¨ì–´ìš”. ì´ì œ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ ëì£ .

  ```python
  # --- 2. ë°ì´í„° íƒ€ì… ë³€í™˜ (time ì—´ì´ objectì¸ ê²½ìš°) ---
  print("\n--- 2. ë°ì´í„° íƒ€ì… ë³€í™˜ ---")
  if df['Time'].dtype == 'object':
      df['Time'] = pd.to_datetime(df['Time'])
      print("\n'Time' ì—´ì´ datetime íƒ€ì…ìœ¼ë¡œ ë³€í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.")
      print(df.info())
  ```

### 1.3 ë°ì´í„° ìš”ì•½ í†µê³„ í™•ì¸

  * `describe()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ ê° ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì˜ ë°ì´í„°ê°€ ëŒ€ëµ ì–´ë–¤ ë²”ìœ„ì— ìˆê³ , í‰ê· ì ìœ¼ë¡œ ì–¼ë§ˆë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€ ë“± ê¸°ë³¸ì ì¸ í†µê³„ë¥¼ í™•ì¸í–ˆì–´ìš”.
  * `Time` ì—´ì˜ ìµœì†Œ/ìµœëŒ€ ë‚ ì§œë¥¼ ë³´ë‹ˆ ë°ì´í„°ê°€ ìˆ˜ì§‘ëœ ì „ì²´ ê¸°ê°„ì„ ì•Œ ìˆ˜ ìˆì—ˆì–´ìš”.
  * **ë†€ë¼ìš´ ì **: ì–´ë–¤ ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ëŠ” ì „ì²´ ê¸°ê°„ ë™ì•ˆ ë°ì´í„°ë¥¼ ê¾¸ì¤€íˆ ìˆ˜ì§‘í–ˆì§€ë§Œ, ì–´ë–¤ ë¯¸í„°ëŠ” ì•„ì£¼ ì ì€ ê¸°ê°„ë§Œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆë”ë¼ê³ ìš”. ë§ˆì¹˜ ì–´ë–¤ ì¹œêµ¬ëŠ” ê°œê·¼í–ˆëŠ”ë°, ì–´ë–¤ ì¹œêµ¬ëŠ” ê²°ì„ì´ ë§ì€ ê²ƒì²˜ëŸ¼ìš”.

  ```python
  # --- 3. ìš”ì•½ í†µê³„ í™•ì¸ ---
  print("\n--- 3. ìš”ì•½ í†µê³„ í™•ì¸ ---")
  print(df.describe())
  print(f"\n'Time' ì—´ ìµœì†Œ ë‚ ì§œ: {df['Time'].min()}")
  print(f"'Time' ì—´ ìµœëŒ€ ë‚ ì§œ: {df['Time'].max()}")
  ```


### 1.4 ì „ì²´ ë‚ ì§œ ë²”ìœ„ ë° ì¤‘ë³µ/ëˆ„ë½ í™•ì¸

  * `pandas.date_range`ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ê°€ ìˆ˜ì§‘ëœ ì‹œì‘ ë‚ ì§œë¶€í„° ë ë‚ ì§œê¹Œì§€ 15ë¶„ ê°„ê²©ìœ¼ë¡œ ëª¨ë“  ì‹œê°„ëŒ€ë¥¼ ë§Œë“¤ì–´ë´¤ì–´ìš”.
  * ë°ì´í„°ì…‹ì˜ ì¸¡ì •ì¹˜ ìˆ˜ì™€ ìš°ë¦¬ê°€ ë§Œë“  ì „ì²´ ì‹œê°„ëŒ€ ìˆ˜ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•´ì„œ **ëˆ„ë½ë˜ê±°ë‚˜ ì¤‘ë³µëœ ì‹œê°„ëŒ€ê°€ ì—†ë‹¤**ëŠ” ê²ƒì„ ê²€ì¦í–ˆì–´ìš”.

  ```python
  # --- 4. ì „ì²´ ë‚ ì§œ ë²”ìœ„ ë° ì¤‘ë³µ íƒ€ì„ìŠ¤íƒ¬í”„ í™•ì¸ ---
  print("\n--- 4. ì „ì²´ ë‚ ì§œ ë²”ìœ„ ë° ì¤‘ë³µ íƒ€ì„ìŠ¤íƒ¬í”„ í™•ì¸ ---")
  start_date = df['Time'].min()
  end_date = df['Time'].max()
  full_date_range = pd.date_range(start=start_date, end=end_date, freq='15min')

  print(f"ìƒì„±ëœ ì „ì²´ ë‚ ì§œ ë²”ìœ„ ê¸¸ì´: {len(full_date_range)}")
  print(f"ë°ì´í„°ì…‹ ê´€ì¸¡ì¹˜ ìˆ˜: {len(df)}")

  try:
      # Time ì—´ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í•˜ì—¬ ì •ë ¬ í›„ ë¹„êµ
      df_sorted = df.set_index('Time').sort_index()
      assert df_sorted.index.equals(full_date_range), "ëˆ„ë½ë˜ê±°ë‚˜ ì¤‘ë³µëœ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ìˆìŠµë‹ˆë‹¤!"
      print("ì„±ê³µ: ëˆ„ë½ë˜ê±°ë‚˜ ì¤‘ë³µëœ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ì—†ìŠµë‹ˆë‹¤.")
  except AssertionError as e:
      print(f"ì˜¤ë¥˜: {e}")
      
  # ë‹¤ì‹œ Time ì—´ì„ ì»¬ëŸ¼ìœ¼ë¡œ ë˜ëŒë¦½ë‹ˆë‹¤.
  df = df.reset_index(drop=True)
  ```

### 1.5 ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë³„ ë°ì´í„° ìˆ˜ íˆìŠ¤í† ê·¸ë¨

  * ê° ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ê°€ ì–¼ë§ˆë‚˜ ë§ì€ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆëŠ”ì§€ ë§‰ëŒ€ ê·¸ë˜í”„(íˆìŠ¤í† ê·¸ë¨)ë¡œ ê·¸ë ¤ë´¤ì–´ìš”.
  * ì´ ê·¸ë˜í”„ë¥¼ ë³´ë‹ˆ 172ê°œ ë¯¸í„° ì¤‘ ì•½ 90ê°œëŠ” ê±°ì˜ ëª¨ë“  ê¸°ê°„ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆì§€ë§Œ, ì¼ë¶€ ë¯¸í„°ëŠ” 5,000ê°œ ë¯¸ë§Œì˜ ì ì€ ë°ì´í„°ë§Œ ìˆ˜ì§‘í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆì–´ìš”.

  ```python
  # í•œê¸€ í°íŠ¸ ì„¤ì • (ì„ íƒì‚¬í•­)
  plt.rcParams['font.family'] = 'Nanum Gothic'
  plt.rcParams['axes.unicode_minus'] = False

  # --- 5. ì¥ì¹˜ë³„ ê´€ì¸¡ì¹˜ ìˆ˜ íˆìŠ¤í† ê·¸ë¨ ---
  print("\n--- 5. ì¥ì¹˜ë³„ ê´€ì¸¡ì¹˜ ìˆ˜ íˆìŠ¤í† ê·¸ë¨ ---")
  # ê²°ì¸¡ê°’ì´ ì—†ëŠ” ê´€ì¸¡ì¹˜ ìˆ˜ ê³„ì‚° (Time ì—´ ì œì™¸)
  observation_counts = df.drop(columns='Time').count()

  plt.figure(figsize=(12, 6))
  sns.histplot(observation_counts, bins=20, kde=True)

  plt.title('ê° ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë³„ ìœ íš¨ ê´€ì¸¡ì¹˜ ìˆ˜ íˆìŠ¤í† ê·¸ë¨')
  plt.xlabel('ìœ íš¨ ê´€ì¸¡ì¹˜ ìˆ˜')
  plt.ylabel('ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ê°œìˆ˜')
  plt.grid(True, linestyle='--', alpha=0.7)
  plt.show()
  ```

### 1.6 ê²°ì¸¡ê°’(ë¹„ì–´ìˆëŠ” ë°ì´í„°) ë¶„ì„

  * `Time` ì—´ì„ ë°ì´í„°í”„ë ˆì„ì˜ 'ì¸ë±ìŠ¤'ë¡œ ì„¤ì •í•´ì„œ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆê²Œ í–ˆì–´ìš”.
  * **ì¶©ê²©ì ì¸ ë°œê²¬**: ì „ì²´ ë°ì´í„° ì…€ì˜ ë¬´ë ¤ **25%ê°€ ë¹„ì–´ìˆì—ˆì–´ìš”\!** ì¦‰, 4ê°œ ì¤‘ 1ê°œëŠ” ë°ì´í„°ê°€ ì—†ë‹¤ëŠ” ëœ»ì´ì£ .
  * **ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë³„ ê²°ì¸¡ê°’ ë¹„ìœ¨**: ì–´ë–¤ ë¯¸í„°ëŠ” 60% ë˜ëŠ” 80% ì´ìƒì˜ ë°ì´í„°ê°€ ë¹„ì–´ìˆê¸°ë„ í–ˆì–´ìš”. ì´ëŠ” ì¥ì¹˜ ë¬¸ì œ, ë’¤ëŠ¦ê²Œ ì‘ë™ ì‹œì‘, ì¤‘ê°„ì— ê³ ì¥ ë“± ì—¬ëŸ¬ ì´ìœ  ë•Œë¬¸ì¼ ìˆ˜ ìˆì–´ìš”.
  * **ì‹œê°„ëŒ€ë³„ ê²°ì¸¡ê°’ ìˆ˜**: íŠ¹ì • ì‹œê°„ëŒ€ì— ëª¨ë“  ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ê°€ ì‘ë™í•˜ì§€ ì•Šì€ ê²½ìš°ë„ ìˆì—ˆì–´ìš”. ê·¸ë˜í”„ë¥¼ ë³´ë‹ˆ **ì–´ë–¤ ì‹œê°„ì—ëŠ” 100%ì˜ ì¥ì¹˜ê°€ ë‹¤ìš´ëœ ìƒí™©**ë„ ë°œìƒí–ˆìŒì„ ì•Œ ìˆ˜ ìˆì—ˆì–´ìš”. íŠ¹íˆ ë°ì´í„° ìˆ˜ì§‘ ê¸°ê°„ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì—ì„œëŠ” ì´ëŸ° í˜„ìƒì´ ë” ì‹¬í•´ì¡ŒëŠ”ë°, ì´ëŠ” ì •ì „ì´ë‚˜ ì¥ì¹˜ ì—…ë°ì´íŠ¸ì™€ ê°™ì€ ë™ì‹œ ë°œìƒ ì´ë²¤íŠ¸ì™€ ê´€ë ¨ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.

  ```python
  # --- 6. ê²°ì¸¡ê°’ ë¶„ì„ ---
  print("\n--- 6. ê²°ì¸¡ê°’ ë¶„ì„ ---")
  # Time ì—´ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •
  df_indexed = df.set_index('Time')

  # ë°ì´í„°í”„ë ˆì„ ì „ì²´ ê²°ì¸¡ê°’ ë¹„ìœ¨
  total_missing_percentage = df_indexed.isnull().sum().sum() / (df_indexed.shape[0] * df_indexed.shape[1]) * 100
  print(f"ë°ì´í„°í”„ë ˆì„ ì „ì²´ ì…€ ì¤‘ ê²°ì¸¡ê°’ ë¹„ìœ¨: {total_missing_percentage:.2f}%")

  ```
  ```python
  # ì—´(ì¥ì¹˜)ë³„ ê²°ì¸¡ê°’ ë¹„ìœ¨ íˆìŠ¤í† ê·¸ë¨
  missing_by_column_percentage = df_indexed.isnull().sum() / len(df_indexed) * 100
  plt.figure(figsize=(12, 6))
  sns.histplot(missing_by_column_percentage, bins=20, kde=True)
  plt.title('ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë³„ ê²°ì¸¡ê°’ ë¹„ìœ¨ íˆìŠ¤í† ê·¸ë¨')
  plt.xlabel('ê²°ì¸¡ê°’ ë¹„ìœ¨ (%)')
  plt.ylabel('ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ê°œìˆ˜')
  plt.grid(True, linestyle='--', alpha=0.7)
  plt.show()
  ```

  ```python
  # í–‰(ì‹œê°„)ë³„ ê²°ì¸¡ê°’ ìˆ˜ ë° ë¹„ìœ¨
  missing_by_row_count = df_indexed.isnull().sum(axis=1)
  missing_by_row_percentage = missing_by_row_count / df_indexed.shape[1] * 100

  plt.figure(figsize=(15, 7))
  plt.plot(missing_by_row_percentage.index, missing_by_row_percentage.values)
  plt.title('ì‹œê°„ëŒ€ë³„ ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ê²°ì¸¡ê°’ ë¹„ìœ¨')
  plt.xlabel('ì‹œê°„')
  plt.ylabel('ê²°ì¸¡ê°’ ë¹„ìœ¨ (%)')
  plt.grid(True, linestyle='--', alpha=0.7)
  plt.show()
  ```

### 1.7 ìƒê´€ê´€ê³„ ë¶„ì„

  * **ìƒê´€ê´€ê³„**ëŠ” ë‘ ë³€ìˆ˜ê°€ ì–¼ë§ˆë‚˜ ë¹„ìŠ·í•œ ì›€ì§ì„ì„ ë³´ì´ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì²™ë„ì˜ˆìš”. `Pearson ìƒê´€ê³„ìˆ˜`ë¥¼ ì‚¬ìš©í•´ì„œ ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë“¤ë¼ë¦¬ ì–¼ë§ˆë‚˜ ë¹„ìŠ·í•œ ì „ë ¥ ì†Œë¹„ íŒ¨í„´ì„ ë³´ì´ëŠ”ì§€ ì•Œì•„ë´¤ì–´ìš”.
  * **íˆíŠ¸ë§µ**: ìƒê´€ê´€ê³„ë¥¼ ìƒ‰ìƒìœ¼ë¡œ ì‹œê°í™”í•œ ê·¸ë¦¼ì´ì—ìš”. ëŒ€ê°ì„ ì€ ìê¸° ìì‹ ê³¼ì˜ ìƒê´€ê´€ê³„ë¼ì„œ í•­ìƒ 1(ì™„ë²½í•˜ê²Œ ê°™ìŒ)ì´ ë‚˜ì™€ìš”. íˆíŠ¸ë§µì„ í†µí•´ ì‹œê°ì ìœ¼ë¡œ ì–´ë–¤ ë¯¸í„°ë“¤ì´ ë¹„ìŠ·í•œ íŒ¨í„´ì„ ë³´ì´ëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆì—ˆì–´ìš”.
  * ìƒê´€ê´€ê³„ê°€ ë†’ì€ (ì˜ˆ: 0.5 ì´ìƒ ë˜ëŠ” -0.5 ë¯¸ë§Œ) ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ìŒì„ ì°¾ì•„ ì‹œê°í™”í•´ë³´ë‹ˆ, Energy Meter 49ì™€ 32ëŠ” 63%ì˜ ìƒê´€ê´€ê³„ë¥¼ ë³´ì—¬ ìœ ì‚¬í•œ ì—ë„ˆì§€ ì†Œë¹„ íŒ¨í„´ì„ ê°€ì§€ê³  ìˆì—ˆì–´ìš”.

  ```python
  # --- 7. ìƒê´€ê´€ê³„ ë¶„ì„ ---
  print("\n--- 7. ìƒê´€ê´€ê³„ ë¶„ì„ ---")
  # ê²°ì¸¡ê°’ì„ ì œê±°í•˜ê±°ë‚˜ ì ì ˆíˆ ì±„ì›Œì•¼ ìƒê´€ê´€ê³„ ê³„ì‚°ì´ ì •í™•í•©ë‹ˆë‹¤. NaNì´ ìˆëŠ” í–‰ì„ ì œê±°í•˜ê±°ë‚˜,
  # ì‹¤ì œ ë¶„ì„ì—ì„œëŠ” ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ì „ëµ(í‰ê· , ì¤‘ì•™ê°’, ì´ì „/ì´í›„ ê°’ ì±„ìš°ê¸° ë“±)ì„ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.
  # df_corr = df_indexed.dropna(axis=1, how='any') # ëª¨ë“  ê²°ì¸¡ê°’ì´ ìˆëŠ” ì—´ ì œê±° (ì˜ˆì‹œ)
  df_corr = df_indexed.fillna(df_indexed.mean()) # í‰ê· ìœ¼ë¡œ ê²°ì¸¡ê°’ ì±„ìš°ê¸°

  correlation_matrix = df_corr.corr(method='pearson')

  plt.figure(figsize=(15, 12))
  sns.heatmap(correlation_matrix, cmap='coolwarm', annot=False, fmt=".2f", linewidths=.5)
  plt.title('ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ê°„ì˜ Pearson ìƒê´€ê´€ê³„ íˆíŠ¸ë§µ')
  plt.show()

  # ì¤‘ë³µ ì •ë³´ ì œê±°ë¥¼ ìœ„í•œ ìƒì‚¼ê° í–‰ë ¬ ì‹œê°í™”
  mask = np.triu(correlation_matrix)
  plt.figure(figsize=(15, 12))
  sns.heatmap(correlation_matrix, mask=mask, cmap='coolwarm', annot=False, fmt=".2f", linewidths=.5)
  plt.title('ìŠ¤ë§ˆíŠ¸ ë¯¸í„° ê°„ì˜ Pearson ìƒê´€ê´€ê³„ (ìƒì‚¼ê° í–‰ë ¬)')
  plt.show()

  # ìƒê´€ê´€ê³„ê°€ ë†’ì€ (ì˜ˆ: 0.7 ì´ìƒ) ì¥ì¹˜ ìŒ ì¶”ì¶œ
  high_corr_pairs = []
  for i in range(len(correlation_matrix.columns)):
      for j in range(i + 1, len(correlation_matrix.columns)):
          if abs(correlation_matrix.iloc[i, j]) > 0.7: # ìƒê´€ê³„ìˆ˜ ì„ê³„ê°’ ì„¤ì •
              high_corr_pairs.append((correlation_matrix.columns[i], correlation_matrix.columns[j], correlation_matrix.iloc[i, j]))

  if high_corr_pairs:
      print("\nìƒê´€ê´€ê³„ê°€ ë†’ì€ (ì ˆëŒ€ê°’ 0.7 ì´ìƒ) ì¥ì¹˜ ìŒ:")
      for pair in high_corr_pairs:
          print(f"- {pair[0]} ì™€ {pair[1]}: ìƒê´€ê³„ìˆ˜ {pair[2]:.2f}")
          # ì‹œê°í™” ì˜ˆì‹œ: ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ê°€ì§„ ë‘ ì¥ì¹˜ì˜ ë°ì´í„° í”Œë¡œíŒ…
          plt.figure(figsize=(10, 5))
          plt.plot(df_corr[pair[0]], label=pair[0], alpha=0.7)
          plt.plot(df_corr[pair[1]], label=pair[1], alpha=0.7)
          plt.title(f'{pair[0]} vs {pair[1]} (ìƒê´€ê³„ìˆ˜: {pair[2]:.2f})')
          plt.xlabel('ì‹œê°„')
          plt.ylabel('ì—ë„ˆì§€ ì†Œë¹„ëŸ‰')
          plt.legend()
          plt.grid(True, linestyle='--', alpha=0.7)
          plt.show()
  else:
      print("\nìƒê´€ê´€ê³„ê°€ ë†’ì€ ì¥ì¹˜ ìŒì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤ (ì„ê³„ê°’ 0.7 ê¸°ì¤€).")

  ```


### 1.8 ê³„ì ˆì„± ë¶„ì„ (ì›”ë³„ ë° ì£¼ë³„ íŒ¨í„´)

  * ë°ì´í„°ì˜ **ê°’ë“¤ì„ í‘œì¤€í™”**í–ˆì–´ìš”. ì´ëŠ” ë‹¤ì–‘í•œ ë²”ìœ„ì˜ ë°ì´í„°ë¥¼ ë¹„êµí•˜ê¸° ìœ„í•´ ë§ˆì¹˜ ì‹œí—˜ ì ìˆ˜ë¥¼ ë“±ê¸‰ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë¼ìš”.
  * `month_of_year`(ì›”)ì™€ `day_of_the_week`(ìš”ì¼) ê°™ì€ ì‹œê°„ ê´€ë ¨ ì •ë³´ë¥¼ ì¶”ê°€í•´ì„œ ì›”ë³„, ì£¼ë³„ íŒ¨í„´ì„ ë¶„ì„í–ˆì–´ìš”.

  ```python
  # --- 8. ê³„ì ˆì„± ë¶„ì„ (ì›”ë³„ ë° ì£¼ë³„ íŒ¨í„´) ---
  print("\n--- 8. ê³„ì ˆì„± ë¶„ì„ (ì›”ë³„ ë° ì£¼ë³„ íŒ¨í„´) ---")

  # 'Time' ì—´ì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •
  df_seasonality = df.set_index('Time').copy()

  # ë°ì´í„° í‘œì¤€í™” (ê²°ì¸¡ì¹˜ê°€ ìˆëŠ” ê²½ìš° ì²˜ë¦¬ í›„ ì§„í–‰)
  # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ê²°ì¸¡ì¹˜ë¥¼ 0ìœ¼ë¡œ ì±„ìš°ê±°ë‚˜(ê¶Œì¥í•˜ì§€ ì•ŠìŒ) í‰ê· ìœ¼ë¡œ ì±„ìš´ í›„ í‘œì¤€í™”í•©ë‹ˆë‹¤.
  # ì‹¤ì œ ë¶„ì„ì—ì„œëŠ” ë” ì •êµí•œ ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤.
  df_seasonality_filled = df_seasonality.fillna(df_seasonality.mean()) # í‰ê· ìœ¼ë¡œ ê²°ì¸¡ì¹˜ ì±„ìš°ê¸°

  scaler = StandardScaler()
  # ì‹œê°„ ì»¬ëŸ¼ì„ ì œì™¸í•˜ê³  ëª¨ë“  ì—ë„ˆì§€ ë¯¸í„° ì»¬ëŸ¼ì— ëŒ€í•´ ìŠ¤ì¼€ì¼ë§ ì ìš©
  # fit_transform()ì´ NumPy ë°°ì—´ì„ ë°˜í™˜í•˜ë¯€ë¡œ, DataFrameì˜ ë©”íƒ€ì •ë³´(ì»¬ëŸ¼ëª…, ì¸ë±ìŠ¤)ì™€ pandasì˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ê¸° ìœ„í•´ ë‹¤ì‹œ DataFrameìœ¼ë¡œ ë³€í™˜
  scaled_data = scaler.fit_transform(df_seasonality_filled.select_dtypes(include=np.number))
  df_scaled = pd.DataFrame(scaled_data, columns=df_seasonality_filled.select_dtypes(include=np.number).columns, index=df_seasonality_filled.index)

  # ì‹œê°„ ê´€ë ¨ íŒŒìƒ ë³€ìˆ˜ ìƒì„±
  df_scaled['month_of_year'] = df_scaled.index.strftime('%m_') + df_scaled.index.month_name()
  df_scaled['day_of_the_week'] = df_scaled.index.strftime('%w_') + df_scaled.index.day_name() # 0:ì¼ìš”ì¼, 6:í† ìš”ì¼
  ```

  ```python
                      Energy_Meter_1  Energy_Meter_2  Energy_Meter_3  ...  Energy_Meter_172  month_of_year  day_of_the_week
  Time                                                                 ...
  2022-05-05 12:00:00       -0.248048   -2.231273e-16       -0.694518  ...         -0.597342         05_May       4_Thursday
  2022-05-05 12:15:00       -0.227917   -2.231273e-16       -0.610187  ...         -0.231819         05_May       4_Thursday
  2022-05-05 12:30:00        0.295488   -2.231273e-16       -0.669219  ...         -0.406965         05_May       4_Thursday
  2022-05-05 12:45:00        0.396143   -2.231273e-16       -0.854747  ...         -0.186129         05_May       4_Thursday
  2022-05-05 13:00:00        0.325685   -2.231273e-16       -0.854747  ...         -0.475501         05_May       4_Thursday
  ```
  * **ì›”ë³„ ì£¼ê¸°ì„±**:
      * ì›”ë³„ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ì„ ê·¸ë˜í”„ë¡œ ê·¸ë ¤ë³´ë‹ˆ, 1ì›”ì— ì¤„ì–´ë“¤ë‹¤ê°€ 4\~5ì›”ì— ê°€ì¥ ë‚®ì•„ì§€ê³ , 6ì›”ë¶€í„° ë‹¤ì‹œ ëŠ˜ì–´ë‚˜ì„œ 7ì›”ê³¼ 9\~10ì›”ì— ìµœê³ ì ì„ ì°ê³  ë‹¤ì‹œ ì¤„ì–´ë“œëŠ” **ê³„ì ˆì ì¸ íŒ¨í„´**ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆì–´ìš”.
      * 7ì›”ê³¼ 8ì›”ì—ëŠ” ë³€ë™ì„±ì´ ì»¸ëŠ”ë°, ì´ëŠ” íŠ¹ì • ë‹¬ì— ë°ì´í„°ì— ì´ìƒì¹˜(í‰ê· ì—ì„œ í¬ê²Œ ë²—ì–´ë‚˜ëŠ” ê°’)ê°€ ë§ì•˜ìŒì„ ì˜ë¯¸í•´ìš”.
      * **ë°•ìŠ¤ í”Œë¡¯**ì„ í†µí•´ ë” ìì„¸íˆ ì‚´í´ë³´ë‹ˆ, 12ì›”, 1ì›”, 2ì›”ì— ì „ë ¥ ì‚¬ìš©ëŸ‰ì´ ë§ì•˜ê³ , 5ì›”, 6ì›”ì—ëŠ” ì ê²Œ ì‚¬ìš©í–ˆì–´ìš”. íŠ¹íˆ 2022ë…„ 7ì›”ì—ëŠ” ì´ìƒì¹˜ê°€ ë§ì•„ì„œ í‰ê· ê³¼ ë³€ë™ì„±ì— í° ì˜í–¥ì„ ë¯¸ì³¤ë‹¤ëŠ” ê²ƒë„ ì•Œ ìˆ˜ ìˆì—ˆì£ .

  ```python 
    # ì›”ë³„ ì£¼ê¸°ì„±
  # ëª¨ë“  ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì˜ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ ê³„ì‚°
  
  monthly_avg = df_scaled.drop(columns=['month_of_year', 'day_of_the_week'], errors='ignore').mean(axis=1).groupby(df_scaled['month_of_year']).mean()
  monthly_std = df_scaled.drop(columns=['month_of_year', 'day_of_the_week'], errors='ignore').mean(axis=1).groupby(df_scaled['month_of_year']).std()

  
  plt.figure(figsize=(12, 6))
  monthly_avg.sort_index().plot(kind='bar', yerr=monthly_std.sort_index())
  #ë§‰ëŒ€ ê·¸ë˜í”„: ì›”ë³„ í‰ê· ê°’ì˜ ë†’ë‚®ì´,ì „ì²´ 12ê°œì›”ì˜ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ì„ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ ì›”ì˜ í‰ê· ì´ ì–¼ë§ˆë‚˜ ë†’ê±°ë‚˜ ë‚®ì€ì§€
  #ì—ëŸ¬ ë°”(yerr): ê° ì›”ë³„ ë³€ë™ì„±ì˜ í¬ê¸°(í‘œì¤€í¸ì°¨),í•´ë‹¹ ì›”ì˜ í‘œì¤€í¸ì°¨
  #í•´ì„: ì—ëŸ¬ ë°”ê°€ ê¸¸ìˆ˜ë¡ í•´ë‹¹ ì›”ì˜ ë°ì´í„° ë³€ë™ì„±ì´ í¼
  #ì¦‰, ê³„ì ˆì„± íŒ¨í„´ì˜ ê°•ë„ì™€ ì•ˆì •ì„±ì„ ë™ì‹œì— íŒŒì•…í•˜ê¸° ìœ„í•œ ë¶„ì„ì…ë‹ˆë‹¤.:


  plt.title('ì›”ë³„ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ (í‘œì¤€ í¸ì°¨ í¬í•¨)')
  plt.xlabel('ì›”')
  plt.ylabel('í‘œì¤€í™”ëœ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰')
  plt.xticks(rotation=45)
  plt.grid(axis='y', linestyle='--', alpha=0.7)
  plt.tight_layout()
  plt.show()

  # ë°•ìŠ¤ í”Œë¡¯ìœ¼ë¡œ ì›”ë³„ ë°ì´í„° ë¶„í¬ ì‹¬ì¸µ ë¶„ì„
  # ëª¨ë“  ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ì˜ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ ì›”ë³„ ë°•ìŠ¤ í”Œë¡¯ ìƒì„±
  df_scaled['overall_avg_consumption'] = df_scaled.drop(columns=['month_of_year', 'day_of_the_week'], errors='ignore').mean(axis=1)
  plt.figure(figsize=(14, 7))
  sns.boxplot(x='month_of_year', y='overall_avg_consumption', data=df_scaled.sort_values('month_of_year'))
  plt.title('ì›”ë³„ ì „ë ¥ ì†Œë¹„ëŸ‰ ë¶„í¬ (ë°•ìŠ¤ í”Œë¡¯)')
  plt.xlabel('ì›”')
  plt.ylabel('í‘œì¤€í™”ëœ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰')
  plt.xticks(rotation=45)
  plt.grid(axis='y', linestyle='--', alpha=0.7)
  plt.tight_layout()
  plt.show()
  ```
  * **ì£¼ë³„ ì£¼ê¸°ì„±**:
      * ì£¼ë³„ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ì„ í™•ì¸í•´ë³´ë‹ˆ **í† ìš”ì¼ì— ì „ë ¥ ì‚¬ìš©ëŸ‰ì´ ë†’ê³ , ì¼ìš”ì¼ì— ê°€ì¥ ë‚®ìœ¼ë©°, ì£¼ì¤‘ì—ëŠ” ë¹„êµì  ì¼ì •í•œ íŒ¨í„´**ì„ ë³´ì˜€ì–´ìš”. ì£¼ë§ì˜ í™œë™ íŒ¨í„´ì´ ì „ë ¥ ì‚¬ìš©ëŸ‰ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì´ì£ .

  ```python
  # ì£¼ë³„ ì£¼ê¸°ì„±
  daily_avg = df_scaled.drop(columns=['month_of_year', 'day_of_the_week'], errors='ignore').mean(axis=1).groupby(df_scaled['day_of_the_week']).mean()
  daily_std = df_scaled.drop(columns=['month_of_year', 'day_of_the_week'], errors='ignore').mean(axis=1).groupby(df_scaled['day_of_the_week']).std()

  plt.figure(figsize=(10, 6))
  daily_avg.sort_index().plot(kind='bar', yerr=daily_std.sort_index())
  plt.title('ì£¼ì¤‘/ì£¼ë§ë³„ í‰ê·  ì „ë ¥ ì†Œë¹„ëŸ‰ (í‘œì¤€ í¸ì°¨ í¬í•¨)')
  plt.xlabel('ìš”ì¼')
  plt.ylabel('í‘œì¤€í™”ëœ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰')
  plt.xticks(rotation=45)
  plt.grid(axis='y', linestyle='--', alpha=0.7)
  plt.tight_layout()
  plt.show()

  print("\n--- ë¶„ì„ ì™„ë£Œ ---")
  ```


## 2. ì•ìœ¼ë¡œì˜ í”„ë¡œì íŠ¸ ë°©í–¥

ì´ëŸ° íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ì„ í†µí•´ ì–»ì€ ì •ë³´ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸ë“¤ì„ ê¸°íší•´ë³¼ ìˆ˜ ìˆì–´ìš”.

  * **ì˜ˆì¸¡ ìœ ì§€ë³´ìˆ˜ ì‹œìŠ¤í…œ**: ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ê°€ ì–¸ì œì¯¤ ê³ ì¥ ë‚ ì§€ ë¯¸ë¦¬ ì˜ˆì¸¡í•´ì„œ ìœ ì§€ë³´ìˆ˜ ë‹´ë‹¹ìì—ê²Œ ì•Œë ¤ì£¼ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ê²°ì¸¡ê°’ ë¶„ì„ì„ í†µí•´ íŠ¹ì • ì¥ì¹˜ì˜ ì¦ì€ ë‹¤ìš´íƒ€ì„ì„ íŒŒì•…í–ˆë‹¤ë©´, ì´ëŸ¬í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë° ì¤‘ìš”í•œ ë‹¨ì„œê°€ ë˜ê² ì£ ?
  * **ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ ì˜ˆì¸¡**: íŠ¹ì • ê±´ë¬¼ì´ë‚˜ ì „ì²´ ì§€ì—­ì˜ ë¯¸ë˜ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ì„ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ì›”ë³„, ì£¼ë³„ íŒ¨í„´ì„ íŒŒì•…í•œ ê²ƒì´ ì¤‘ìš”í•œ ì˜ˆì¸¡ ìš”ì†Œê°€ ë  ê±°ì˜ˆìš”.
  * **ìŠ¤ë§ˆíŠ¸ ë¯¸í„° í´ëŸ¬ìŠ¤í„°ë§**: ë¹„ìŠ·í•œ ì „ë ¥ ì†Œë¹„ íŒ¨í„´ì„ ë³´ì´ëŠ” ìŠ¤ë§ˆíŠ¸ ë¯¸í„°ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì„ ìˆ˜ ìˆì–´ìš”. ì´ë ‡ê²Œ ê·¸ë£¹í™”í•˜ë©´ ê°œë³„ ë¯¸í„°ë§ˆë‹¤ ëª¨ë¸ì„ ë§Œë“œëŠ” ëŒ€ì‹ , ê·¸ë£¹ë³„ë¡œ ëª¨ë¸ì„ ë§Œë“¤ì–´ì„œ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒê´€ê´€ê³„ ë¶„ì„ì„ í†µí•´ ì–»ì€ ì •ë³´ê°€ ì—¬ê¸°ì— í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
